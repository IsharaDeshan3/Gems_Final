(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,27612,e=>{"use strict";e.s(["Plus",()=>r],7233);var t=e.i(75254);let r=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Trash2",()=>a],27612);let a=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},77705,e=>{"use strict";e.s(["EyeOff",()=>t],77705);let t=(0,e.i(75254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},10708,e=>{"use strict";e.s(["Label",()=>s],10708);var t=e.i(43476),r=e.i(71645),a=e.i(48425),n=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=e.i(47163);function s(e){let{className:r,...a}=e;return(0,t.jsx)(n,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...a})}},23750,48425,e=>{"use strict";e.s(["Input",()=>a],23750);var t=e.i(43476),r=e.i(47163);function a(e){let{className:a,type:n,...i}=e;return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...i})}e.s(["Primitive",()=>o,"dispatchDiscreteCustomEvent",()=>l],48425);var n=e.i(71645),i=e.i(74080),s=e.i(91918),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,s.createSlot)("Primitive.".concat(r)),i=n.forwardRef((e,n)=>{let{asChild:i,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?a:r,{...s,ref:n})});return i.displayName="Primitive.".concat(r),{...e,[r]:i}},{});function l(e,t){e&&i.flushSync(()=>e.dispatchEvent(t))}},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},70065,e=>{"use strict";e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>s,"CardHeader",()=>n,"CardTitle",()=>i]);var t=e.i(43476),r=e.i(47163);function a(e){let{className:a,...n}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...n})}function n(e){let{className:a,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...n})}function i(e){let{className:a,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...n})}function s(e){let{className:a,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...n})}function o(e){let{className:a,...n}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...n})}},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90571,e=>{"use strict";e.s(["__addDisposableResource",()=>A,"__assign",()=>a,"__asyncDelegator",()=>w,"__asyncGenerator",()=>b,"__asyncValues",()=>N,"__await",()=>j,"__awaiter",()=>p,"__classPrivateFieldGet",()=>E,"__classPrivateFieldIn",()=>T,"__classPrivateFieldSet",()=>I,"__createBinding",()=>h,"__decorate",()=>i,"__disposeResources",()=>M,"__esDecorate",()=>o,"__exportStar",()=>m,"__extends",()=>r,"__generator",()=>f,"__importDefault",()=>P,"__importStar",()=>O,"__makeTemplateObject",()=>S,"__metadata",()=>d,"__param",()=>s,"__propKey",()=>c,"__read",()=>v,"__rest",()=>n,"__rewriteRelativeImportExtension",()=>D,"__runInitializers",()=>l,"__setFunctionName",()=>u,"__spread",()=>g,"__spreadArray",()=>x,"__spreadArrays",()=>_,"__values",()=>y,"default",()=>R]);var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)};function r(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function i(e,t,r,a){var n,i=arguments.length,s=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function s(e,t){return function(r,a){t(r,a,e)}}function o(e,t,r,a,n,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var o,l=a.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?a.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),p=!1,f=r.length-1;f>=0;f--){var h={};for(var m in a)h[m]="access"===m?{}:a[m];for(var m in a.access)h.access[m]=a.access[m];h.addInitializer=function(e){if(p)throw TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var y=(0,r[f])("accessor"===l?{get:d.get,set:d.set}:d[c],h);if("accessor"===l){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw TypeError("Object expected");(o=s(y.get))&&(d.get=o),(o=s(y.set))&&(d.set=o),(o=s(y.init))&&n.unshift(o)}else(o=s(y))&&("field"===l?n.unshift(o):d[c]=o)}u&&Object.defineProperty(u,a.name,d),p=!0}function l(e,t,r){for(var a=arguments.length>2,n=0;n<t.length;n++)r=a?t[n].call(e,r):t[n].call(e);return a?r:void 0}function c(e){return"symbol"==typeof e?e:"".concat(e)}function u(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,a){return new(r||(r=Promise))(function(n,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((a=a.apply(e,t||[])).next())})}function f(e,t){var r,a,n,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){var c=[o,l];if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(r=1,a&&(n=2&c[0]?a.return:c[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,c[1])).done)return n;switch(a=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,a=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){i.label=c[1];break}if(6===c[0]&&i.label<n[1]){i.label=n[1],n=c;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(c);break}n[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],a=0}finally{r=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var h=Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]};function m(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||h(t,e,r)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,n,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function _(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),n=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,n++)a[n]=i[s];return a}function x(e,t,r){if(r||2==arguments.length)for(var a,n=0,i=t.length;n<i;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function j(e){return this instanceof j?(this.v=e,this):new j(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var a,n=r.apply(e,t||[]),i=[];return a=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),a[Symbol.asyncIterator]=function(){return this},a;function s(e,t){n[e]&&(a[e]=function(t){return new Promise(function(r,a){i.push([e,t,r,a])>1||o(e,t)})},t&&(a[e]=t(a[e])))}function o(e,t){try{var r;(r=n[e](t)).value instanceof j?Promise.resolve(r.value.v).then(l,c):u(i[0][2],r)}catch(e){u(i[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function w(e){var t,r;return t={},a("next"),a("throw",function(e){throw e}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(a,n){t[a]=e[a]?function(t){return(r=!r)?{value:j(e[a](t)),done:!1}:n?n(t):t}:n}}function N(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(r){t[r]=e[r]&&function(t){return new Promise(function(a,n){var i,s,o;i=a,s=n,o=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){i({value:e,done:o})},s)})}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return(C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),a=0;a<r.length;a++)"default"!==r[a]&&h(t,e,r[a]);return k(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function E(e,t,r,a){if("a"===r&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)}function I(e,t,r,a,n){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,r):n?n.value=r:t.set(e,r),r}function T(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function A(e,t,r){if(null!=t){var a,n;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(void 0===a){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if("function"!=typeof a)throw TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}var L="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var a=Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function M(e){function t(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,a=0;return function n(){for(;r=e.stack.pop();)try{if(!r.async&&1===a)return a=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(i).then(n,function(e){return t(e),n()})}else a|=1}catch(e){t(e)}if(1===a)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function D(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,a,n,i){return r?t?".jsx":".js":!a||n&&i?a+n+"."+i.toLowerCase()+"js":e}):e}let R={__extends:r,__assign:a,__rest:n,__decorate:i,__param:s,__esDecorate:o,__runInitializers:l,__propKey:c,__setFunctionName:u,__metadata:d,__awaiter:p,__generator:f,__createBinding:h,__exportStar:m,__values:y,__read:v,__spread:g,__spreadArrays:_,__spreadArray:x,__await:j,__asyncGenerator:b,__asyncDelegator:w,__asyncValues:N,__makeTemplateObject:S,__importStar:O,__importDefault:P,__classPrivateFieldGet:E,__classPrivateFieldSet:I,__classPrivateFieldIn:T,__addDisposableResource:A,__disposeResources:M,__rewriteRelativeImportExtension:D}},78745,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},83627,e=>{"use strict";e.s(["Edit3",()=>t],83627);let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},73708,e=>{"use strict";e.s(["Image",()=>t],73708);let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},60021,e=>{"use strict";e.s(["default",()=>x]);var t=e.i(43476),r=e.i(71645),a=e.i(70065),n=e.i(67881),i=e.i(23750),s=e.i(10708),o=e.i(62870),l=e.i(94179),c=e.i(13032),u=e.i(7233),d=e.i(55436),p=e.i(83627),f=e.i(27612),h=e.i(86536),m=e.i(77705),y=e.i(73708),v=e.i(16715);function g(e){var t,r,a;let n=Array.isArray(null==e?void 0:e.images)?e.images:[];return{...e,images:n,image_url:null!=(r=null!=(t=null==e?void 0:e.image_url)?t:n[0])?r:"",stock_quantity:"number"==typeof(null==e?void 0:e.stock_quantity)?e.stock_quantity:0,is_active:!!(null==e?void 0:e.is_active),price:"number"==typeof(null==e?void 0:e.price)?e.price:Number((null==e?void 0:e.price)||0),created_at:null!=(a=null==e?void 0:e.created_at)?a:new Date().toISOString()}}function _(){var e;return(null==(e=document.cookie.split("; ").find(e=>e.startsWith("csrfToken=")))?void 0:e.split("=")[1])||""}function x(){let[e,x]=(0,r.useState)([]),[j,b]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),[S,k]=(0,r.useState)(null),[C,O]=(0,r.useState)(""),[P,E]=(0,r.useState)("All"),[I,T]=(0,r.useState)(null),[A,L]=(0,r.useState)({name:"",price:0,stock_quantity:0,is_active:!0,metal_type_purity:"",gross_weight_grams:"",gemstone_type:"",carat_weight:"",cut_and_shape:"",color_and_clarity:"",report_number:"",report_date:"",authorized_seal_signature:"",image_url:""}),[M,D]=(0,r.useState)(null),[R,F]=(0,r.useState)(!1);async function z(){b(!0),k(null);try{let e=await fetch("/api/admin/jwellery",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error("Failed to fetch jwellery");let t=await e.json(),r=Array.isArray(null==t?void 0:t.jwellery)?t.jwellery:[];x(r.map(g))}catch(e){k((null==e?void 0:e.message)||"Failed to fetch jwellery")}finally{b(!1)}}(0,r.useEffect)(()=>{z()},[]);let B=(0,r.useMemo)(()=>{let t=[...e];if(C.trim()){let e=C.trim().toLowerCase();t=t.filter(t=>[t.name,t.metal_type_purity,t.report_number,t.gemstone_type].filter(Boolean).join(" ").toLowerCase().includes(e))}return"Active"===P?t=t.filter(e=>e.is_active):"Inactive"===P&&(t=t.filter(e=>!e.is_active)),t},[e,C,P]);function q(){T(null),D(null),L({name:"",price:0,stock_quantity:0,is_active:!0,metal_type_purity:"",gross_weight_grams:"",gemstone_type:"",carat_weight:"",cut_and_shape:"",color_and_clarity:"",report_number:"",report_date:"",authorized_seal_signature:"",image_url:""}),k(null)}async function U(e){let t=new FormData;t.append("file",e),t.append("folder","jwellery");let r=_(),a=await fetch("/api/admin/upload",{method:"POST",headers:{"x-csrf-token":r},body:t,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to upload image")}return(await a.json()).url}async function V(){N(!0),k(null);try{let e=A.image_url;if(M){F(!0);try{e=await U(M)}finally{F(!1)}}let t={name:A.name,price:Number(A.price),stock_quantity:Number(A.stock_quantity)||0,is_active:!!A.is_active,metal_type_purity:A.metal_type_purity||void 0,gross_weight_grams:""!==A.gross_weight_grams?Number(A.gross_weight_grams):void 0,gemstone_type:A.gemstone_type||void 0,carat_weight:""!==A.carat_weight?Number(A.carat_weight):void 0,cut_and_shape:A.cut_and_shape||void 0,color_and_clarity:A.color_and_clarity||void 0,report_number:A.report_number||void 0,report_date:A.report_date||void 0,authorized_seal_signature:A.authorized_seal_signature||void 0,images:e?[e]:[]},r=_();if(I){let e=await fetch("/api/admin/jwellery",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":r},credentials:"include",body:JSON.stringify({id:I.id,...t})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error((null==t?void 0:t.error)||"Failed to update jwellery")}let a=g(await e.json());x(e=>e.map(e=>e.id===a.id?a:e)),q()}else{let e=await fetch("/api/admin/jwellery",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":r},credentials:"include",body:JSON.stringify(t)});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error((null==t?void 0:t.error)||"Failed to create jwellery")}let a=g(await e.json());x(e=>[a,...e]),q()}}catch(e){k((null==e?void 0:e.message)||"Failed to save jwellery")}finally{N(!1),F(!1)}}async function G(e){if(confirm('Are you sure you want to delete "'.concat(e.name,'"?'))){N(!0),k(null);try{let t=_(),r=await fetch("/api/admin/jwellery?id=".concat(e.id),{method:"DELETE",headers:{"x-csrf-token":t},credentials:"include"});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to delete jwellery")}x(t=>t.filter(t=>t.id!==e.id)),(null==I?void 0:I.id)===e.id&&q()}catch(e){k((null==e?void 0:e.message)||"Failed to delete jwellery")}finally{N(!1)}}}async function H(e){N(!0),k(null);try{let t=_(),r=await fetch("/api/admin/jwellery",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":t},credentials:"include",body:JSON.stringify({id:e.id,is_active:!e.is_active})});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to update status")}let a=g(await r.json());x(e=>e.map(e=>e.id===a.id?a:e))}catch(e){k((null==e?void 0:e.message)||"Failed to update status")}finally{N(!1)}}return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.Diamond,{className:"h-7 w-7"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Jwellery"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your certified jwellery products"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.Button,{variant:"outline",onClick:z,disabled:j,children:[(0,t.jsx)(v.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(j?"animate-spin":"")}),"Refresh"]}),(0,t.jsxs)(n.Button,{onClick:q,variant:"secondary",children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"New"]})]})]}),S?(0,t.jsx)(a.Card,{className:"border-red-500/30",children:(0,t.jsx)(a.CardContent,{className:"py-4 text-red-600",children:S})}):null,(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:I?"Edit Jwellery":"Add New Jwellery"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Name"}),(0,t.jsx)(i.Input,{value:A.name,onChange:e=>L(t=>({...t,name:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Price"}),(0,t.jsx)(i.Input,{type:"number",value:A.price,onChange:e=>L(t=>({...t,price:Number(e.target.value)}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Stock Quantity"}),(0,t.jsx)(i.Input,{type:"number",value:A.stock_quantity,onChange:e=>L(t=>({...t,stock_quantity:Number(e.target.value)}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Metal Type & Purity"}),(0,t.jsx)(i.Input,{value:A.metal_type_purity,onChange:e=>L(t=>({...t,metal_type_purity:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Gross Weight (g)"}),(0,t.jsx)(i.Input,{type:"number",value:A.gross_weight_grams,onChange:e=>L(t=>({...t,gross_weight_grams:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Gemstone Type (Natural/Synthetic)"}),(0,t.jsx)(i.Input,{value:A.gemstone_type,onChange:e=>L(t=>({...t,gemstone_type:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Carat Weight (cts)"}),(0,t.jsx)(i.Input,{type:"number",value:A.carat_weight,onChange:e=>L(t=>({...t,carat_weight:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Cut & Shape"}),(0,t.jsx)(i.Input,{value:A.cut_and_shape,onChange:e=>L(t=>({...t,cut_and_shape:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Color & Clarity"}),(0,t.jsx)(i.Input,{value:A.color_and_clarity,onChange:e=>L(t=>({...t,color_and_clarity:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Report Number"}),(0,t.jsx)(i.Input,{value:A.report_number,onChange:e=>L(t=>({...t,report_number:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Report Date"}),(0,t.jsx)(i.Input,{type:"date",value:A.report_date,onChange:e=>L(t=>({...t,report_date:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Authorized Seal & Signature"}),(0,t.jsx)(i.Input,{value:A.authorized_seal_signature,onChange:e=>L(t=>({...t,authorized_seal_signature:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2 lg:col-span-3",children:[(0,t.jsxs)(s.Label,{className:"flex items-center gap-2",children:[(0,t.jsx)(y.Image,{className:"h-4 w-4"})," Product Image"]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)(i.Input,{type:"file",accept:"image/*",onChange:e=>{var t;return D((null==(t=e.target.files)?void 0:t[0])||null)}}),(0,t.jsx)(i.Input,{placeholder:"Or paste image URL",value:A.image_url,onChange:e=>L(t=>({...t,image_url:e.target.value}))})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Upload uses the same storage bucket as gems."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{children:"Status"}),(0,t.jsxs)(o.Select,{value:A.is_active?"active":"inactive",onValueChange:e=>L(t=>({...t,is_active:"active"===e})),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(o.SelectItem,{value:"inactive",children:"Inactive"})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-5 flex items-center gap-2",children:[(0,t.jsx)(n.Button,{onClick:V,disabled:w||R||!A.name,children:w?"Saving...":I?"Update":"Create"}),(0,t.jsx)(n.Button,{variant:"outline",onClick:q,children:"Cancel"}),R?(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Uploading image..."}):null]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,t.jsx)(a.CardTitle,{children:"Items"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Search,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),(0,t.jsx)(i.Input,{className:"pl-9 w-72",placeholder:"Search...",value:C,onChange:e=>O(e.target.value)})]}),(0,t.jsxs)(o.Select,{value:P,onValueChange:e=>E(e),children:[(0,t.jsx)(o.SelectTrigger,{className:"w-44",children:(0,t.jsx)(o.SelectValue,{})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"All",children:"All"}),(0,t.jsx)(o.SelectItem,{value:"Active",children:"Active"}),(0,t.jsx)(o.SelectItem,{value:"Inactive",children:"Inactive"})]})]})]})]})}),(0,t.jsx)(a.CardContent,{children:j?(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"Loading..."}):0===B.length?(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"No items found."}):(0,t.jsx)("div",{className:"space-y-3",children:B.map(e=>(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-md bg-muted overflow-hidden flex items-center justify-center",children:e.image_url?(0,t.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)(y.Image,{className:"h-5 w-5 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",e.price," â€¢ Stock: ",e.stock_quantity]}),(0,t.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,t.jsx)(l.Badge,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"}),e.metal_type_purity?(0,t.jsx)(l.Badge,{variant:"outline",children:e.metal_type_purity}):null,e.report_number?(0,t.jsxs)(l.Badge,{variant:"outline",children:["Report: ",e.report_number]}):null]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.Button,{size:"sm",variant:"outline",onClick:()=>{var t;T(e),D(null),L({name:e.name,price:e.price,stock_quantity:e.stock_quantity,is_active:e.is_active,metal_type_purity:e.metal_type_purity||"",gross_weight_grams:void 0!==e.gross_weight_grams&&null!==e.gross_weight_grams?String(e.gross_weight_grams):"",gemstone_type:e.gemstone_type||"",carat_weight:void 0!==e.carat_weight&&null!==e.carat_weight?String(e.carat_weight):"",cut_and_shape:e.cut_and_shape||"",color_and_clarity:e.color_and_clarity||"",report_number:e.report_number||"",report_date:e.report_date||"",authorized_seal_signature:e.authorized_seal_signature||"",image_url:e.image_url||(null==(t=e.images)?void 0:t[0])||""}),k(null)},children:[(0,t.jsx)(p.Edit3,{className:"h-4 w-4 mr-2"})," Edit"]}),(0,t.jsx)(n.Button,{size:"sm",variant:"outline",onClick:()=>H(e),disabled:w,children:e.is_active?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.EyeOff,{className:"h-4 w-4 mr-2"})," Hide"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Eye,{className:"h-4 w-4 mr-2"})," Show"]})}),(0,t.jsx)(n.Button,{size:"sm",variant:"destructive",onClick:()=>G(e),disabled:w,children:(0,t.jsx)(f.Trash2,{className:"h-4 w-4"})})]})]},e.id))})})]})]})}}]);