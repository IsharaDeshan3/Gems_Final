(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50965,e=>{"use strict";e.s(["ShoppingBag",()=>t],50965);let t=(0,e.i(75254).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},72520,e=>{"use strict";e.s(["ArrowRight",()=>t],72520);let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},95468,e=>{"use strict";e.s(["CheckCircle2",()=>t],95468);let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},88844,e=>{"use strict";e.s(["Package",()=>t],88844);let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},94351,e=>{"use strict";e.s(["Home",()=>t],94351);let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},38060,e=>{"use strict";e.s(["createPayment",()=>t,"verifyPayment",()=>a]);let t=async e=>{try{let{address:t,amount:a,city:r,country:s,currency:i,email:l,first_name:n,items:o,last_name:d,order_id:c,phone:m}=e,x=await fetch("/api/payment/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:c,items:o,amount:a,currency:i,first_name:n,last_name:d,email:l,phone:m,address:t,city:r,country:s})});if(!x.ok){let e=await x.json();throw Error(e.error||"Payment creation failed")}let h=await x.json();!function(e){let t=document.createElement("form");t.method="POST",t.action=e.payhere_url;let{payhere_url:a,...r}=e;Object.entries(r).forEach(e=>{let[a,r]=e;if(null!=r){let e=document.createElement("input");e.type="hidden",e.name=a,e.value=String(r),t.appendChild(e)}}),document.body.appendChild(t),t.submit()}(h.payhere_fields)}catch(e){throw alert("Failed to initiate payment: ".concat(e.message)),e}},a=async e=>{try{let t=await fetch("/api/payment/verify/".concat(e));if(!t.ok)throw Error("Payment verification failed");return await t.json()}catch(e){throw e}}},20178,e=>{"use strict";e.s(["default",()=>f]);var t=e.i(43476),a=e.i(71645),r=e.i(46932),s=e.i(95468),i=e.i(43553),l=e.i(83086),n=e.i(88844),o=e.i(94351),d=e.i(50965),c=e.i(72520),m=e.i(13032),x=e.i(70273),h=e.i(18566),u=e.i(38060),p=e.i(22016);function b(){let[e,b]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!0),[g,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),N=(0,h.useSearchParams)(),[k,S]=(0,a.useState)();(0,a.useEffect)(()=>{b(!0),setTimeout(()=>y(!1),5e3);let e=N.get("order_id");P(e),e||(v("No order ID provided"),w(!0))},[N]);let P=async e=>{if(e)try{let{status:t,amount:a,created_at:r,currency:s,orderId:i}=await (0,u.verifyPayment)(e);S({orderId:i||e,status:t,createdAt:r,amount:a,currency:s})}catch(e){v("Failed to verify payment. Please contact support.")}finally{w(!1)}};return e?j?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-xl",children:"Verifying payment..."})}):g?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-red-400 text-xl mb-4",children:["⚠️ ",g]}),(0,t.jsx)(p.default,{href:"/",className:"text-amber-400 hover:text-amber-300",children:"Return to Home"})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-0",children:[(0,t.jsx)(r.motion.div,{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-br from-amber-300/20 to-orange-400/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],x:[0,30,0],y:[0,-20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),(0,t.jsx)(r.motion.div,{className:"absolute top-1/3 right-20 w-24 h-24 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-lg",animate:{scale:[1,.8,1],x:[0,-25,0],y:[0,40,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),(0,t.jsx)(r.motion.div,{className:"absolute bottom-1/4 left-1/4 w-40 h-40 bg-gradient-to-br from-cyan-300/15 to-blue-400/15 rounded-full blur-2xl",animate:{scale:[1,1.3,1],rotate:[0,180,360]},transition:{duration:15,repeat:1/0,ease:"linear"}})]}),(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:[10,25,40,60,75,20,85,35,55,70,15,45,80,30,65,50].map((e,a)=>(0,t.jsx)(r.motion.div,{className:"absolute w-1 h-1 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full",style:{left:"".concat(e,"%"),top:"".concat(37*a%100,"%")},animate:{y:[0,-100,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:a%3+2,repeat:1/0,delay:a%4*.5,ease:"easeInOut"}},a))}),f&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none z-50",children:Array.from({length:50}).map((e,a)=>(0,t.jsx)(r.motion.div,{className:"absolute",style:{left:"".concat(100*Math.random(),"%"),top:"-10%"},animate:{y:["0vh","110vh"],rotate:[0,360*(Math.random()>.5?1:-1)],opacity:[1,.8,0]},transition:{duration:3+2*Math.random(),delay:.5*Math.random(),ease:"easeIn"},children:a%3==0?(0,t.jsx)(x.Star,{className:"w-3 h-3 text-amber-400",fill:"currentColor"}):a%3==1?(0,t.jsx)(m.Diamond,{className:"w-3 h-3 text-purple-400",fill:"currentColor"}):(0,t.jsx)(l.Sparkles,{className:"w-3 h-3 text-pink-400"})},a))}),(0,t.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 py-20",children:(0,t.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-white/5 backdrop-blur-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"relative bg-gradient-to-br from-amber-500/20 via-orange-500/20 to-red-500/20 p-12 text-center overflow-hidden",children:[(0,t.jsx)(r.motion.div,{className:"absolute top-0 left-0 w-[2px] h-[200%] bg-gradient-to-b from-amber-400 via-orange-400 to-red-400 rotate-45 shadow-[0_0_20px_#fbbf24]",initial:{x:-150,opacity:.1},animate:{x:150,opacity:[.3,.8,.3]},transition:{duration:12,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),(0,t.jsxs)(r.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"relative z-10",children:[(0,t.jsxs)(r.motion.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-24 h-24 mx-auto mb-6 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full blur-xl opacity-60"}),(0,t.jsx)(i.Crown,{size:96,className:"relative z-10 text-amber-400 mx-auto"})]}),(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.5,duration:.6},className:"w-32 h-32 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_40px_rgba(16,185,129,0.5)]",children:(0,t.jsx)(s.CheckCircle2,{className:"w-16 h-16 text-white",strokeWidth:3})}),(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-black bg-gradient-to-r from-white via-amber-200 to-orange-300 bg-clip-text text-transparent mb-4",children:"Payment Successful!"}),(0,t.jsx)("div",{className:"w-24 h-1 bg-gradient-to-r from-amber-400 to-orange-500 mx-auto mb-6 rounded-full"}),(0,t.jsx)("p",{className:"text-xl md:text-2xl text-slate-200 max-w-2xl mx-auto",children:"Thank you for your precious purchase from Royal Gems Institute"})]})]}),(0,t.jsxs)("div",{className:"p-8 md:p-12",children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-slate-800/50 to-purple-900/30 rounded-2xl border border-white/10 p-6 md:p-8 mb-8",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,t.jsx)(n.Package,{className:"mr-3 text-amber-400",size:28}),"Order Confirmed"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Order Number"}),(0,t.jsx)("p",{className:"text-white text-lg font-bold",children:null==k?void 0:k.orderId})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Order Date"}),(0,t.jsx)("p",{className:"text-white text-lg font-bold",children:new Date((null==k?void 0:k.createdAt)?k.createdAt:"").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Payment Method"}),(0,t.jsx)("p",{className:"text-white text-lg font-bold",children:"PayHere"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Amount"}),(0,t.jsxs)("p",{className:"text-2xl font-black bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:[null==k?void 0:k.currency," ",null==k?void 0:k.amount]})]})]}),(0,t.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-start space-x-3",children:[(0,t.jsx)(s.CheckCircle2,{className:"text-emerald-400 flex-shrink-0 mt-1",size:20}),(0,t.jsx)("div",{children:(null==k?void 0:k.status)=="pending"&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-yellow-300 text-sm font-semibold mb-1",children:"Payment Validating"}),(0,t.jsx)("p",{className:"text-slate-300 text-xs",children:"Your payment has been securely processed and under vaildation"})]})})]})]}),(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(p.default,{href:"/orders",className:"group flex items-center justify-center space-x-2 bg-gradient-to-r from-amber-500 to-orange-600 text-black font-bold py-4 px-6 rounded-xl hover:from-amber-400 hover:to-orange-500 transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(n.Package,{size:20}),(0,t.jsx)("span",{children:"Track Order"}),(0,t.jsx)(c.ArrowRight,{size:16,className:"group-hover:translate-x-1 transition-transform"})]}),(0,t.jsxs)(p.default,{href:"/collection",className:"group flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-xl hover:bg-white/20 text-white font-bold py-4 px-6 rounded-xl border border-white/20 transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(d.ShoppingBag,{size:20}),(0,t.jsx)("span",{children:"Continue Shopping"})]}),(0,t.jsxs)(p.default,{href:"/",className:"group flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-xl hover:bg-white/20 text-white font-bold py-4 px-6 rounded-xl border border-white/20 transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(o.Home,{size:20}),(0,t.jsx)("span",{children:"Back to Home"})]})]})]})]}),(0,t.jsxs)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"text-center mt-8 text-slate-300",children:[(0,t.jsxs)("p",{className:"text-sm",children:["Questions about your order? Contact us at"," ",(0,t.jsx)("a",{href:"mailto:support@royalgems.com",className:"text-amber-400 hover:text-amber-300 font-semibold",children:"support@royalgems.com"})]}),(0,t.jsx)("p",{className:"text-xs mt-2 text-slate-400",children:"© 2024 Royal Gems Institute. All rights reserved."})]})]})})]}):null}function f(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(b,{})})}}]);