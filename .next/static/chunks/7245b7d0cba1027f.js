(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,27612,e=>{"use strict";e.s(["Plus",()=>a],7233);var t=e.i(75254);let a=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Trash2",()=>l],27612);let l=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},77705,e=>{"use strict";e.s(["EyeOff",()=>t],77705);let t=(0,e.i(75254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},10708,e=>{"use strict";e.s(["Label",()=>n],10708);var t=e.i(43476),a=e.i(71645);e.i(74080);var l=e.i(91918),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=(0,l.createSlot)("Primitive.".concat(r)),i=a.forwardRef((e,a)=>{let{asChild:l,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l?s:r,{...i,ref:a})});return i.displayName="Primitive.".concat(r),{...e,[r]:i}},{}),s=a.forwardRef((e,a)=>(0,t.jsx)(r.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(47163);function n(e){let{className:a,...l}=e;return(0,t.jsx)(s,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...l})}},23750,e=>{"use strict";e.s(["Input",()=>l]);var t=e.i(43476),a=e.i(47163);function l(e){let{className:l,type:r,...s}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",l),...s})}},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},70065,e=>{"use strict";e.s(["Card",()=>l,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>s]);var t=e.i(43476),a=e.i(47163);function l(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",l),...r})}function r(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",l),...r})}function s(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",l),...r})}function i(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",l),...r})}function n(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",l),...r})}},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90571,e=>{"use strict";e.s(["__assign",()=>t,"__awaiter",()=>l,"__rest",()=>a,"__spreadArray",()=>r]);var t=function(){return(t=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)0>t.indexOf(l[r])&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]]);return a}function l(e,t,a,l){return new(a||(a=Promise))(function(r,s){function i(e){try{c(l.next(e))}catch(e){s(e)}}function n(e){try{c(l.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,n)}c((l=l.apply(e,t||[])).next())})}Object.create;function r(e,t,a){if(a||2==arguments.length)for(var l,r=0,s=t.length;r<s;r++)!l&&r in t||(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}Object.create,"function"==typeof SuppressedError&&SuppressedError},78745,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},83627,e=>{"use strict";e.s(["Edit3",()=>t],83627);let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},73708,e=>{"use strict";e.s(["Image",()=>t],73708);let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},60201,e=>{"use strict";e.s(["default",()=>b]);var t=e.i(43476),a=e.i(71645),l=e.i(70065),r=e.i(67881),s=e.i(23750),i=e.i(10708),n=e.i(62870),c=e.i(94179),d=e.i(13032),o=e.i(25147),u=e.i(7233),m=e.i(55436),h=e.i(83627),p=e.i(27612),g=e.i(86536),x=e.i(77705),_=e.i(73708),v=e.i(16715),y=e.i(70273);function j(e){var t,a,l;let r=Array.isArray(null==e?void 0:e.images)?e.images:[];return{...e,images:r,image_url:null!=(a=null!=(t=null==e?void 0:e.image_url)?t:r[0])?a:"",stock_quantity:"number"==typeof(null==e?void 0:e.stock_quantity)?e.stock_quantity:0,is_active:!!(null==e?void 0:e.is_active),is_month_highlight:!!(null==e?void 0:e.is_month_highlight),price:"number"==typeof(null==e?void 0:e.price)?e.price:Number((null==e?void 0:e.price)||0),created_at:null!=(l=null==e?void 0:e.created_at)?l:new Date().toISOString()}}function f(){var e;return(null==(e=document.cookie.split("; ").find(e=>e.startsWith("csrfToken=")))?void 0:e.split("=")[1])||""}function b(){let[e,b]=(0,a.useState)([]),[w,N]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[S,I]=(0,a.useState)(null),[L,O]=(0,a.useState)(""),[T,E]=(0,a.useState)("All"),[M,P]=(0,a.useState)(null),[A,B]=(0,a.useState)({name:"",price:0,stock_quantity:0,is_active:!0,metal_type_purity:"",gross_weight_grams:"",report_number:"",report_date:"",authorized_seal_signature:"",gemstone_name:"",gemstone_type:"",carat_weight:"",cut_and_shape:"",color_and_clarity:"",gem_identification:"",gem_weight_carats:"",gem_color:"",gem_clarity:"",gem_dimensions:"",gem_treatments:"",gem_origin:"",image_url:""}),[R,q]=(0,a.useState)(null),[z,F]=(0,a.useState)(!1);async function D(){N(!0),I(null);try{let e=await fetch("/api/admin/jewellery",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error("Failed to fetch jewellery");let t=await e.json(),a=Array.isArray(null==t?void 0:t.jewellery)?t.jewellery:[];b(a.map(j))}catch(e){I((null==e?void 0:e.message)||"Failed to fetch jewellery")}finally{N(!1)}}(0,a.useEffect)(()=>{D()},[]);let J=(0,a.useMemo)(()=>{let t=[...e];if(L.trim()){let e=L.trim().toLowerCase();t=t.filter(t=>[t.name,t.metal_type_purity,t.report_number,t.gemstone_type,t.gemstone_name].filter(Boolean).join(" ").toLowerCase().includes(e))}return"Active"===T?t=t.filter(e=>e.is_active):"Inactive"===T&&(t=t.filter(e=>!e.is_active)),t},[e,L,T]);function U(){P(null),q(null),B({name:"",price:0,stock_quantity:0,is_active:!0,metal_type_purity:"",gross_weight_grams:"",report_number:"",report_date:"",authorized_seal_signature:"",gemstone_name:"",gemstone_type:"",carat_weight:"",cut_and_shape:"",color_and_clarity:"",gem_identification:"",gem_weight_carats:"",gem_color:"",gem_clarity:"",gem_dimensions:"",gem_treatments:"",gem_origin:"",image_url:""}),I(null)}async function G(e){let t=new FormData;t.append("file",e),t.append("folder","jewellery");let a=f(),l=await fetch("/api/admin/upload",{method:"POST",headers:{"x-csrf-token":a},body:t,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to upload image")}return(await l.json()).url}async function H(){if(!A.name.trim())return void I("Product name is required");if(A.price<=0)return void I("Price must be greater than 0");if(A.stock_quantity<0)return void I("Stock quantity cannot be negative");C(!0),I(null);try{let e=A.image_url;if(R){F(!0);try{e=await G(R)}finally{F(!1)}}let t={name:A.name,price:Number(A.price),stock_quantity:Number(A.stock_quantity)||0,is_active:!!A.is_active,metal_type_purity:A.metal_type_purity||void 0,gross_weight_grams:""!==A.gross_weight_grams?Number(A.gross_weight_grams):void 0,report_number:A.report_number||void 0,report_date:A.report_date||void 0,authorized_seal_signature:A.authorized_seal_signature||void 0,gemstone_name:A.gemstone_name||void 0,gemstone_type:A.gemstone_type||void 0,carat_weight:""!==A.carat_weight?Number(A.carat_weight):void 0,cut_and_shape:A.cut_and_shape||void 0,color_and_clarity:A.color_and_clarity||void 0,gem_identification:A.gem_identification||void 0,gem_weight_carats:A.gem_weight_carats||void 0,gem_color:A.gem_color||void 0,gem_clarity:A.gem_clarity||void 0,gem_dimensions:A.gem_dimensions||void 0,gem_treatments:A.gem_treatments||void 0,gem_origin:A.gem_origin||void 0,images:e?[e]:[]},a=f();if(M){let e=await fetch("/api/admin/jewellery",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":a},credentials:"include",body:JSON.stringify({id:M.id,...t})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error((null==t?void 0:t.error)||"Failed to update jewellery")}let l=j(await e.json());b(e=>e.map(e=>e.id===l.id?l:e)),U()}else{let e=await fetch("/api/admin/jewellery",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":a},credentials:"include",body:JSON.stringify(t)});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error((null==t?void 0:t.error)||"Failed to create jewellery")}let l=j(await e.json());b(e=>[l,...e]),U()}}catch(e){I((null==e?void 0:e.message)||"Failed to save jewellery")}finally{C(!1),F(!1)}}async function V(e){if(confirm('Are you sure you want to delete "'.concat(e.name,'"?'))){C(!0),I(null);try{let t=f(),a=await fetch("/api/admin/jewellery?id=".concat(e.id),{method:"DELETE",headers:{"x-csrf-token":t},credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to delete jewellery")}b(t=>t.filter(t=>t.id!==e.id)),(null==M?void 0:M.id)===e.id&&U()}catch(e){I((null==e?void 0:e.message)||"Failed to delete jewellery")}finally{C(!1)}}}async function W(e){C(!0),I(null);try{let t=f(),a=await fetch("/api/admin/jewellery",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":t},credentials:"include",body:JSON.stringify({id:e.id,is_active:!e.is_active})});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to update status")}let l=j(await a.json());b(e=>e.map(e=>e.id===l.id?l:e))}catch(e){I((null==e?void 0:e.message)||"Failed to update status")}finally{C(!1)}}async function K(e,t){C(!0),I(null);try{let a=f(),l=await fetch("/api/admin/jewellery",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":a},credentials:"include",body:JSON.stringify({id:e.id,is_month_highlight:t})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Failed to update highlight")}let r=j(await l.json());b(e=>e.map(e=>t?{...e,is_month_highlight:e.id===r.id}:e.id===r.id?{...e,is_month_highlight:!1}:e))}catch(e){I((null==e?void 0:e.message)||"Failed to update highlight")}finally{C(!1)}}return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(d.Diamond,{className:"h-7 w-7"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Jewellery"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your certified jewellery products with gemstone details"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r.Button,{variant:"outline",onClick:D,disabled:w,children:[(0,t.jsx)(v.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(w?"animate-spin":"")}),"Refresh"]}),(0,t.jsxs)(r.Button,{onClick:U,variant:"secondary",children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"New"]})]})]}),S?(0,t.jsx)(l.Card,{className:"border-red-500/30",children:(0,t.jsx)(l.CardContent,{className:"py-4 text-red-600",children:S})}):null,(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:M?"Edit Jewellery":"Add New Jewellery"})}),(0,t.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-slate-800 dark:to-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(d.Diamond,{className:"h-5 w-5 text-purple-600"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-purple-800 dark:text-purple-300",children:"Jewellery Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Name *"}),(0,t.jsx)(s.Input,{value:A.name,onChange:e=>B(t=>({...t,name:e.target.value})),placeholder:"e.g., Diamond Ring",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Price (USD) *"}),(0,t.jsx)(s.Input,{type:"number",value:A.price,onChange:e=>B(t=>({...t,price:Number(e.target.value)})),placeholder:"2500.00",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Stock Quantity *"}),(0,t.jsx)(s.Input,{type:"number",value:A.stock_quantity,onChange:e=>B(t=>({...t,stock_quantity:Number(e.target.value)})),placeholder:"5",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Metal Type & Purity"}),(0,t.jsx)(s.Input,{value:A.metal_type_purity,onChange:e=>B(t=>({...t,metal_type_purity:e.target.value})),placeholder:"18K White Gold",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Gross Weight (grams)"}),(0,t.jsx)(s.Input,{type:"number",value:A.gross_weight_grams,onChange:e=>B(t=>({...t,gross_weight_grams:e.target.value})),placeholder:"5.5",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Report Number"}),(0,t.jsx)(s.Input,{value:A.report_number,onChange:e=>B(t=>({...t,report_number:e.target.value})),placeholder:"GIA-123456",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Report Date"}),(0,t.jsx)(s.Input,{type:"date",value:A.report_date,onChange:e=>B(t=>({...t,report_date:e.target.value})),className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Authorized Seal & Signature"}),(0,t.jsx)(s.Input,{value:A.authorized_seal_signature,onChange:e=>B(t=>({...t,authorized_seal_signature:e.target.value})),placeholder:"Authorized by...",className:"border-purple-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-purple-700 dark:text-purple-300",children:"Status"}),(0,t.jsxs)(n.Select,{value:A.is_active?"active":"inactive",onValueChange:e=>B(t=>({...t,is_active:"active"===e})),children:[(0,t.jsx)(n.SelectTrigger,{className:"border-purple-200",children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(n.SelectItem,{value:"inactive",children:"Inactive"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-slate-800 dark:to-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(o.Gem,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Gemstone on Jewellery"}),(0,t.jsx)("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"(Optional - Details about the gem mounted on this jewellery)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Gemstone Name"}),(0,t.jsx)(s.Input,{value:A.gemstone_name,onChange:e=>B(t=>({...t,gemstone_name:e.target.value})),placeholder:"Ceylon Blue Sapphire",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Identification"}),(0,t.jsx)(s.Input,{value:A.gem_identification,onChange:e=>B(t=>({...t,gem_identification:e.target.value})),placeholder:"Natural Blue Sapphire",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Gemstone Type (Natural/Synthetic)"}),(0,t.jsx)(s.Input,{value:A.gemstone_type,onChange:e=>B(t=>({...t,gemstone_type:e.target.value})),placeholder:"Natural",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Weight (Carats)"}),(0,t.jsx)(s.Input,{value:A.gem_weight_carats,onChange:e=>B(t=>({...t,gem_weight_carats:e.target.value})),placeholder:"2.50",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Carat Weight (cts)"}),(0,t.jsx)(s.Input,{type:"number",value:A.carat_weight,onChange:e=>B(t=>({...t,carat_weight:e.target.value})),placeholder:"2.50",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Shape / Cut"}),(0,t.jsx)(s.Input,{value:A.cut_and_shape,onChange:e=>B(t=>({...t,cut_and_shape:e.target.value})),placeholder:"Oval Brilliant",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Color"}),(0,t.jsx)(s.Input,{value:A.gem_color,onChange:e=>B(t=>({...t,gem_color:e.target.value})),placeholder:"Royal Blue",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Clarity"}),(0,t.jsx)(s.Input,{value:A.gem_clarity,onChange:e=>B(t=>({...t,gem_clarity:e.target.value})),placeholder:"VS",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Color & Clarity Combined"}),(0,t.jsx)(s.Input,{value:A.color_and_clarity,onChange:e=>B(t=>({...t,color_and_clarity:e.target.value})),placeholder:"Royal Blue / VS",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Dimensions"}),(0,t.jsx)(s.Input,{value:A.gem_dimensions,onChange:e=>B(t=>({...t,gem_dimensions:e.target.value})),placeholder:"8.0 x 6.0 x 4.2 mm",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Treatments"}),(0,t.jsx)(s.Input,{value:A.gem_treatments,onChange:e=>B(t=>({...t,gem_treatments:e.target.value})),placeholder:"Heat",className:"border-blue-200"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{className:"text-blue-700 dark:text-blue-300",children:"Origin"}),(0,t.jsx)(s.Input,{value:A.gem_origin,onChange:e=>B(t=>({...t,gem_origin:e.target.value})),placeholder:"Sri Lanka",className:"border-blue-200"})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)(i.Label,{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(_.Image,{className:"h-4 w-4"})," Product Image"]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)(s.Input,{type:"file",accept:"image/*",onChange:e=>{var t;return q((null==(t=e.target.files)?void 0:t[0])||null)}}),(0,t.jsx)(s.Input,{placeholder:"Or paste image URL",value:A.image_url,onChange:e=>B(t=>({...t,image_url:e.target.value}))})]}),(R||A.image_url)&&(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,t.jsx)("img",{src:R?URL.createObjectURL(R):A.image_url,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg border"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:R?R.name:"URL Image"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{onClick:H,disabled:k||z||!A.name,children:k?"Saving...":M?"Update Jewellery":"Create Jewellery"}),(0,t.jsx)(r.Button,{variant:"outline",onClick:U,children:"Cancel"}),z&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Uploading image..."})]})]})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,t.jsx)(l.CardTitle,{children:"Jewellery Items"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.Search,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),(0,t.jsx)(s.Input,{className:"pl-9 w-72",placeholder:"Search...",value:L,onChange:e=>O(e.target.value)})]}),(0,t.jsxs)(n.Select,{value:T,onValueChange:e=>E(e),children:[(0,t.jsx)(n.SelectTrigger,{className:"w-44",children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"All",children:"All"}),(0,t.jsx)(n.SelectItem,{value:"Active",children:"Active"}),(0,t.jsx)(n.SelectItem,{value:"Inactive",children:"Inactive"})]})]})]})]})}),(0,t.jsx)(l.CardContent,{children:w?(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"Loading..."}):0===J.length?(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"No items found."}):(0,t.jsx)("div",{className:"space-y-3",children:J.map(e=>(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-md bg-muted overflow-hidden flex items-center justify-center",children:e.image_url?(0,t.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)(_.Image,{className:"h-5 w-5 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",e.price," â€¢ Stock: ",e.stock_quantity]}),(0,t.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[e.is_month_highlight?(0,t.jsxs)(c.Badge,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-black",children:[(0,t.jsx)(y.Star,{className:"h-3 w-3 mr-1"})," Highlight"]}):null,(0,t.jsx)(c.Badge,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"}),e.metal_type_purity?(0,t.jsx)(c.Badge,{variant:"outline",children:e.metal_type_purity}):null,e.gemstone_name?(0,t.jsxs)(c.Badge,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900",children:["ðŸ’Ž ",e.gemstone_name]}):null,e.report_number?(0,t.jsxs)(c.Badge,{variant:"outline",children:["Report: ",e.report_number]}):null]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>K(e,!e.is_month_highlight),disabled:k,title:e.is_month_highlight?"Remove monthly highlight":"Set as monthly highlight",children:(0,t.jsx)(y.Star,{className:"h-4 w-4"})}),(0,t.jsxs)(r.Button,{size:"sm",variant:"outline",onClick:()=>{var t;P(e),q(null),B({name:e.name,price:e.price,stock_quantity:e.stock_quantity,is_active:e.is_active,metal_type_purity:e.metal_type_purity||"",gross_weight_grams:void 0!==e.gross_weight_grams&&null!==e.gross_weight_grams?String(e.gross_weight_grams):"",report_number:e.report_number||"",report_date:e.report_date||"",authorized_seal_signature:e.authorized_seal_signature||"",gemstone_name:e.gemstone_name||"",gemstone_type:e.gemstone_type||"",carat_weight:void 0!==e.carat_weight&&null!==e.carat_weight?String(e.carat_weight):"",cut_and_shape:e.cut_and_shape||"",color_and_clarity:e.color_and_clarity||"",gem_identification:e.gem_identification||"",gem_weight_carats:e.gem_weight_carats||"",gem_color:e.gem_color||"",gem_clarity:e.gem_clarity||"",gem_dimensions:e.gem_dimensions||"",gem_treatments:e.gem_treatments||"",gem_origin:e.gem_origin||"",image_url:e.image_url||(null==(t=e.images)?void 0:t[0])||""}),I(null)},children:[(0,t.jsx)(h.Edit3,{className:"h-4 w-4 mr-2"})," Edit"]}),(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>W(e),disabled:k,children:e.is_active?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.EyeOff,{className:"h-4 w-4 mr-2"})," Hide"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Eye,{className:"h-4 w-4 mr-2"})," Show"]})}),(0,t.jsx)(r.Button,{size:"sm",variant:"destructive",onClick:()=>V(e),disabled:k,children:(0,t.jsx)(p.Trash2,{className:"h-4 w-4"})})]})]},e.id))})})]})]})}}]);