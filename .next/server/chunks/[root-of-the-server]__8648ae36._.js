module.exports=[70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},48606,e=>{"use strict";e.s(["enforceCsrf",()=>o,"getAdminClient",()=>n,"getAuthenticatedUser",()=>s,"isAdminRole",()=>i,"isHighAdminRole",()=>a]),e.i(94879);var t=e.i(87022),r=e.i(3848);async function s(e){let s=(0,t.createServerClient)("https://xtqwqrnongwhiukntlkn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0cXdxcm5vbmd3aGl1a250bGtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NjE0NjgsImV4cCI6MjA3NzEzNzQ2OH0.A0n5EqdcPdeZOghE-s6-BGha8x087kcG_mJitmUBYqU",{cookies:{get:t=>e.cookies.get(t)?.value,set(){},remove(){}}}),{data:{user:n},error:i}=await s.auth.getUser();if(i||!n)return{user:null,supabase:s,error:i?.message||"Unauthorized"};let a=(0,r.getRepositoryFactory)(s).getUserRepository();return{user:await a.findById(n.id),supabase:s,error:null}}async function n(e){return(0,t.createServerClient)("https://xtqwqrnongwhiukntlkn.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{cookies:{get:t=>e.cookies.get(t)?.value,set(){},remove(){}}})}function i(e){return["SuperAdmin","Admin","Moderator","superadmin","admin","moderator"].includes(e)}function a(e){return["SuperAdmin","Admin","superadmin","admin"].includes(e)}function o(e){if(!function(e){let t=e.toUpperCase();return"POST"===t||"PUT"===t||"PATCH"===t||"DELETE"===t}(e.method))return{ok:!0};let t=e.headers.get("x-csrf-token")||e.headers.get("x-csrf")||"",r=e.cookies.get("csrfToken")?.value||"";return t&&r?t!==r?{ok:!1,error:"CSRF token invalid"}:{ok:!0}:{ok:!1,error:"CSRF token missing"}}},38339,e=>{"use strict";e.s(["getRateLimitIdentifier",()=>s,"rateLimiters",()=>n]);let t=new Map;async function r(e,s={}){let{uniqueTokenPerInterval:n=10,interval:i=6e4}=s,a=Date.now(),o=t.get(e);return!o||o.resetTime<a?(t.set(e,{count:1,resetTime:a+i}),{success:!0,limit:n,remaining:n-1,reset:a+i}):(o.count++,o.count>n)?{success:!1,limit:n,remaining:0,reset:o.resetTime}:{success:!0,limit:n,remaining:n-o.count,reset:o.resetTime}}function s(e){let t=e.headers.get("x-forwarded-for"),r=e.headers.get("x-real-ip");return t?.split(",")[0]||r||"unknown"}setInterval(()=>{let e=Date.now();for(let[r,s]of t.entries())s.resetTime<e&&t.delete(r)},3e5);let n={auth:e=>r(e,{uniqueTokenPerInterval:5,interval:9e5}),api:e=>r(e,{uniqueTokenPerInterval:30,interval:6e4}),payment:e=>r(e,{uniqueTokenPerInterval:3,interval:6e4}),critical:e=>r(e,{uniqueTokenPerInterval:2,interval:3e5})}},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},72783,e=>{"use strict";function t(e,t){let r=[];for(let s of t){let t=e[s.field];if(s.required&&(null==t||""===t)){r.push({field:s.field,message:s.message||`${s.field} is required`});continue}if(s.required||null!=t&&""!==t){if(s.type&&!function(e,t){switch(t){case"string":return"string"==typeof e;case"number":return"number"==typeof e&&!isNaN(e);case"boolean":return"boolean"==typeof e;case"email":return"string"==typeof e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);case"url":try{return new URL(e),!0}catch{return!1}case"uuid":return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e);case"array":return Array.isArray(e);case"object":return"object"==typeof e&&null!==e&&!Array.isArray(e);default:return!0}}(t,s.type)){r.push({field:s.field,message:s.message||`${s.field} must be a valid ${s.type}`});continue}if(void 0!==s.min||void 0!==s.max){let e="string"==typeof t?t.length:"number"==typeof t?t:0;void 0!==s.min&&e<s.min&&r.push({field:s.field,message:s.message||`${s.field} must be at least ${s.min}`}),void 0!==s.max&&e>s.max&&r.push({field:s.field,message:s.message||`${s.field} must be at most ${s.max}`})}s.pattern&&"string"==typeof t&&!s.pattern.test(t)&&r.push({field:s.field,message:s.message||`${s.field} format is invalid`}),s.custom&&!s.custom(t)&&r.push({field:s.field,message:s.message||`${s.field} validation failed`})}}return{valid:0===r.length,errors:r}}e.s(["validateInput",()=>t])},38653,(e,t,r)=>{}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8648ae36._.js.map