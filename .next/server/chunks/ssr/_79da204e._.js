module.exports=[21374,a=>{"use strict";a.s(["Star",()=>b],21374);let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},78987,a=>{"use strict";a.s(["ShoppingBag",()=>b],78987);let b=(0,a.i(70106).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},32860,a=>{"use strict";a.s(["ArrowRight",()=>b],32860);let b=(0,a.i(70106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},67453,a=>{"use strict";a.s(["CheckCircle2",()=>b],67453);let b=(0,a.i(70106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},83497,a=>{"use strict";a.s(["Package",()=>b],83497);let b=(0,a.i(70106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},81010,a=>{"use strict";a.s(["Home",()=>b],81010);let b=(0,a.i(70106).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},96155,a=>{"use strict";a.s(["createPayment",()=>b,"verifyPayment",()=>c]);let b=async a=>{try{let{address:b,amount:c,city:d,country:e,currency:f,email:g,first_name:h,items:i,last_name:j,order_id:k,phone:l}=a,m=await fetch("/api/payment/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:k,items:i,amount:c,currency:f,first_name:h,last_name:j,email:g,phone:l,address:b,city:d,country:e})});if(!m.ok){let a=await m.json();throw Error(a.error||"Payment creation failed")}let n=await m.json();!function(a){let b=document.createElement("form");b.method="POST",b.action=a.payhere_url;let{payhere_url:c,...d}=a;Object.entries(d).forEach(([a,c])=>{if(null!=c){let d=document.createElement("input");d.type="hidden",d.name=a,d.value=String(c),b.appendChild(d)}}),document.body.appendChild(b),b.submit()}(n.payhere_fields)}catch(a){throw alert(`Failed to initiate payment: ${a.message}`),a}},c=async a=>{try{let b=await fetch(`/api/payment/verify/${a}`);if(!b.ok)throw Error("Payment verification failed");return await b.json()}catch(a){throw a}}},11046,a=>{"use strict";a.s(["default",()=>r]);var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(67453),f=a.i(86520),g=a.i(8406),h=a.i(83497),i=a.i(81010),j=a.i(78987),k=a.i(32860),l=a.i(67304),m=a.i(21374),n=a.i(50944),o=a.i(96155),p=a.i(38246);function q(){let[a,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),x=(0,n.useSearchParams)(),[y,z]=(0,c.useState)();(0,c.useEffect)(()=>{q(!0),setTimeout(()=>s(!1),5e3);let a=x.get("order_id");A(a),a||(u("No order ID provided"),w(!0))},[x]);let A=async a=>{if(a)try{let{status:b,amount:c,created_at:d,currency:e,orderId:f}=await (0,o.verifyPayment)(a);z({orderId:f||a,status:b,createdAt:d,amount:c,currency:e})}catch(a){u("Failed to verify payment. Please contact support.")}finally{w(!1)}};return a?v?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-white text-xl",children:"Verifying payment..."})}):t?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-red-400 text-xl mb-4",children:["⚠️ ",t]}),(0,b.jsx)(p.default,{href:"/",className:"text-amber-400 hover:text-amber-300",children:"Return to Home"})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-0",children:[(0,b.jsx)(d.motion.div,{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-br from-amber-300/20 to-orange-400/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],x:[0,30,0],y:[0,-20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),(0,b.jsx)(d.motion.div,{className:"absolute top-1/3 right-20 w-24 h-24 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-lg",animate:{scale:[1,.8,1],x:[0,-25,0],y:[0,40,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),(0,b.jsx)(d.motion.div,{className:"absolute bottom-1/4 left-1/4 w-40 h-40 bg-gradient-to-br from-cyan-300/15 to-blue-400/15 rounded-full blur-2xl",animate:{scale:[1,1.3,1],rotate:[0,180,360]},transition:{duration:15,repeat:1/0,ease:"linear"}})]}),(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:[10,25,40,60,75,20,85,35,55,70,15,45,80,30,65,50].map((a,c)=>(0,b.jsx)(d.motion.div,{className:"absolute w-1 h-1 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full",style:{left:`${a}%`,top:`${37*c%100}%`},animate:{y:[0,-100,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:c%3+2,repeat:1/0,delay:c%4*.5,ease:"easeInOut"}},c))}),r&&(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none z-50",children:Array.from({length:50}).map((a,c)=>(0,b.jsx)(d.motion.div,{className:"absolute",style:{left:`${100*Math.random()}%`,top:"-10%"},animate:{y:["0vh","110vh"],rotate:[0,360*(Math.random()>.5?1:-1)],opacity:[1,.8,0]},transition:{duration:3+2*Math.random(),delay:.5*Math.random(),ease:"easeIn"},children:c%3==0?(0,b.jsx)(m.Star,{className:"w-3 h-3 text-amber-400",fill:"currentColor"}):c%3==1?(0,b.jsx)(l.Diamond,{className:"w-3 h-3 text-purple-400",fill:"currentColor"}):(0,b.jsx)(g.Sparkles,{className:"w-3 h-3 text-pink-400"})},c))}),(0,b.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4 py-20",children:(0,b.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-white/5 backdrop-blur-2xl rounded-3xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative bg-gradient-to-br from-amber-500/20 via-orange-500/20 to-red-500/20 p-12 text-center overflow-hidden",children:[(0,b.jsx)(d.motion.div,{className:"absolute top-0 left-0 w-[2px] h-[200%] bg-gradient-to-b from-amber-400 via-orange-400 to-red-400 rotate-45 shadow-[0_0_20px_#fbbf24]",initial:{x:-150,opacity:.1},animate:{x:150,opacity:[.3,.8,.3]},transition:{duration:12,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),(0,b.jsxs)(d.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"relative z-10",children:[(0,b.jsxs)(d.motion.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-24 h-24 mx-auto mb-6 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full blur-xl opacity-60"}),(0,b.jsx)(f.Crown,{size:96,className:"relative z-10 text-amber-400 mx-auto"})]}),(0,b.jsx)(d.motion.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.5,duration:.6},className:"w-32 h-32 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_40px_rgba(16,185,129,0.5)]",children:(0,b.jsx)(e.CheckCircle2,{className:"w-16 h-16 text-white",strokeWidth:3})}),(0,b.jsx)("h1",{className:"text-4xl md:text-6xl font-black bg-gradient-to-r from-white via-amber-200 to-orange-300 bg-clip-text text-transparent mb-4",children:"Payment Successful!"}),(0,b.jsx)("div",{className:"w-24 h-1 bg-gradient-to-r from-amber-400 to-orange-500 mx-auto mb-6 rounded-full"}),(0,b.jsx)("p",{className:"text-xl md:text-2xl text-slate-200 max-w-2xl mx-auto",children:"Thank you for your precious purchase from Royal Gems Institute"})]})]}),(0,b.jsxs)("div",{className:"p-8 md:p-12",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-slate-800/50 to-purple-900/30 rounded-2xl border border-white/10 p-6 md:p-8 mb-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,b.jsx)(h.Package,{className:"mr-3 text-amber-400",size:28}),"Order Confirmed"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Order Number"}),(0,b.jsx)("p",{className:"text-white text-lg font-bold",children:y?.orderId})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Order Date"}),(0,b.jsx)("p",{className:"text-white text-lg font-bold",children:new Date(y?.createdAt?y.createdAt:"").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Payment Method"}),(0,b.jsx)("p",{className:"text-white text-lg font-bold",children:"PayHere"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Amount"}),(0,b.jsxs)("p",{className:"text-2xl font-black bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:[y?.currency," ",y?.amount]})]})]}),(0,b.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-start space-x-3",children:[(0,b.jsx)(e.CheckCircle2,{className:"text-emerald-400 flex-shrink-0 mt-1",size:20}),(0,b.jsx)("div",{children:y?.status=="pending"&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-yellow-300 text-sm font-semibold mb-1",children:"Payment Validating"}),(0,b.jsx)("p",{className:"text-slate-300 text-xs",children:"Your payment has been securely processed and under vaildation"})]})})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(p.default,{href:"/orders",className:"group flex items-center justify-center space-x-2 bg-gradient-to-r from-amber-500 to-orange-600 text-black font-bold py-4 px-6 rounded-xl hover:from-amber-400 hover:to-orange-500 transition-all duration-300 transform hover:scale-105",children:[(0,b.jsx)(h.Package,{size:20}),(0,b.jsx)("span",{children:"Track Order"}),(0,b.jsx)(k.ArrowRight,{size:16,className:"group-hover:translate-x-1 transition-transform"})]}),(0,b.jsxs)(p.default,{href:"/collection",className:"group flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-xl hover:bg-white/20 text-white font-bold py-4 px-6 rounded-xl border border-white/20 transition-all duration-300 transform hover:scale-105",children:[(0,b.jsx)(j.ShoppingBag,{size:20}),(0,b.jsx)("span",{children:"Continue Shopping"})]}),(0,b.jsxs)(p.default,{href:"/",className:"group flex items-center justify-center space-x-2 bg-white/10 backdrop-blur-xl hover:bg-white/20 text-white font-bold py-4 px-6 rounded-xl border border-white/20 transition-all duration-300 transform hover:scale-105",children:[(0,b.jsx)(i.Home,{size:20}),(0,b.jsx)("span",{children:"Back to Home"})]})]})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"text-center mt-8 text-slate-300",children:[(0,b.jsxs)("p",{className:"text-sm",children:["Questions about your order? Contact us at"," ",(0,b.jsx)("a",{href:"mailto:support@royalgems.com",className:"text-amber-400 hover:text-amber-300 font-semibold",children:"support@royalgems.com"})]}),(0,b.jsx)("p",{className:"text-xs mt-2 text-slate-400",children:"© 2024 Royal Gems Institute. All rights reserved."})]})]})})]}):null}function r(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:(0,b.jsx)(q,{})})}}];

//# sourceMappingURL=_79da204e._.js.map