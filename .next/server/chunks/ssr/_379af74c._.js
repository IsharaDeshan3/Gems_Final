module.exports=[38784,a=>{"use strict";a.s(["ShoppingCart",()=>b],38784);let b=(0,a.i(70106).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},60246,a=>{"use strict";a.s(["Users",()=>b],60246);let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},21161,a=>{"use strict";a.s(["Settings",()=>b],21161);let b=(0,a.i(70106).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50522,a=>{"use strict";a.s(["ChevronRight",()=>b],50522);let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},78170,a=>{"use strict";a.s(["default",()=>w],78170);var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(54161),f=a.i(40695),g=a.i(50944),h=a.i(70106);let i=(0,h.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var j=a.i(60246),k=a.i(28951),l=a.i(67304),m=a.i(38784);let n=(0,h.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var o=a.i(21161);let p=(0,h.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),q=(0,h.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),r=(0,h.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var s=a.i(86520),t=a.i(8406),u=a.i(50522);let v=[{name:"Dashboard",href:"/admin",icon:i},{name:"Users",href:"/admin/users",icon:j.Users},{name:"Gems",href:"/admin/gems",icon:k.Gem},{name:"Jwellery",href:"/admin/jwellery",icon:l.Diamond},{name:"Orders",href:"/admin/orders",icon:m.ShoppingCart},{name:"Logs",href:"/admin/logs",icon:n},{name:"Settings",href:"/admin/settings",icon:o.Settings,superAdminOnly:!0}];function w({children:a}){let[h,i]=(0,d.useState)(),[j,k]=(0,d.useState)(!0),[l,m]=(0,d.useState)(!1),[n,o]=(0,d.useState)(!1),w=(0,g.useRouter)(),x=(0,g.usePathname)();(0,d.useRef)(null);let y=(0,d.useRef)(!1),z=(0,d.useCallback)(async(a="session_expired")=>{if(y.current)return;y.current=!0;let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1];try{await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":b||""},credentials:"include"})}catch(a){}sessionStorage.removeItem("adminSessionActive"),i(null),y.current=!1,w.push(`/admin/login?reason=${a}`)},[w]);(0,d.useEffect)(()=>{o(!0)},[]);let A=(0,d.useCallback)(async()=>{if("/admin/login"===x)return void k(!1);let a=sessionStorage.getItem("adminSessionActive");k(!0);try{let b=await fetch("/api/auth/profile",{credentials:"include"});if(b.ok){let a=await b.json();i(a.user),sessionStorage.setItem("adminSessionActive","true"),sessionStorage.setItem("lastActivity",Date.now().toString())}else i(null),sessionStorage.removeItem("adminSessionActive"),w.replace(`/admin/login?reason=${a?"session_expired":"unauthenticated"}`)}catch{i(null),sessionStorage.removeItem("adminSessionActive"),w.replace("/admin/login?reason=unauthenticated")}finally{k(!1)}},[x,w]);async function B(){k(!0),await z("logged_out"),k(!1)}return((0,d.useEffect)(()=>{A()},[A]),n)?j?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-20 h-20 border-4 border-indigo-200/30 border-t-indigo-400 rounded-full animate-spin mx-auto"}),(0,b.jsx)("div",{className:"absolute inset-0 w-20 h-20 border-4 border-transparent border-t-purple-400 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Loading Admin Portal"}),(0,b.jsx)("p",{className:"text-indigo-200",children:"Securing your session..."})]})]})}):"/admin/login"===x?(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-2",children:[(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute -top-4 -right-4 w-72 h-72 bg-gradient-to-r from-purple-400/20 to-pink-400/20 rounded-full animate-pulse"}),(0,b.jsx)("div",{className:"absolute bottom-0 -left-8 w-64 h-64 bg-gradient-to-r from-blue-400/20 to-cyan-400/20 rounded-full animate-bounce",style:{animationDuration:"3s"}})]}),(0,b.jsx)("div",{className:"relative z-10 w-full max-w-md lg:max-w-dvw transform scale-110",children:a})]}):h?(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 admin-layout min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900",children:[(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 absolute -top-4 -right-4 w-72 h-72 bg-gradient-to-r from-purple-400/10 to-pink-400/10 rounded-full animate-pulse"}),(0,b.jsx)("div",{style:{animationDuration:"3s"},className:"jsx-1ef7596cae0ba558 absolute top-1/2 -left-8 w-64 h-64 bg-gradient-to-r from-blue-400/10 to-cyan-400/10 rounded-full animate-bounce"}),(0,b.jsx)("div",{style:{animationDelay:"1s"},className:"jsx-1ef7596cae0ba558 absolute bottom-0 right-1/3 w-48 h-48 bg-gradient-to-r from-emerald-400/10 to-teal-400/10 rounded-full animate-pulse"})]}),(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 relative z-10 flex flex-col min-h-screen",children:[(0,b.jsx)("header",{className:"jsx-1ef7596cae0ba558 backdrop-blur-md bg-white/90 dark:bg-slate-800/90 border-b border-white/20 shadow-xl",children:(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 px-6 py-4",children:(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 flex items-center space-x-6",children:[(0,b.jsx)("button",{onClick:()=>m(!l),className:"jsx-1ef7596cae0ba558 lg:hidden p-2 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:l?(0,b.jsx)(r,{className:"h-5 w-5"}):(0,b.jsx)(q,{className:"h-5 w-5"})}),(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 flex items-center space-x-4",children:(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl shadow-lg",children:(0,b.jsx)(s.Crown,{className:"h-6 w-6 text-white"})}),(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558",children:[(0,b.jsx)("h1",{className:"jsx-1ef7596cae0ba558 text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Royal Gems Institute"}),(0,b.jsx)("p",{className:"jsx-1ef7596cae0ba558 text-xs text-slate-500 dark:text-slate-400",children:"Admin Portal"})]})]})}),h&&(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 hidden md:flex items-center space-x-3 px-4 py-2 bg-white/60 dark:bg-slate-700/60 rounded-xl backdrop-blur-sm border border-slate-200/50 dark:border-slate-600/50",children:[(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 w-8 h-8 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:h.firstName}),(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558",children:[(0,b.jsxs)("p",{className:"jsx-1ef7596cae0ba558 text-sm font-semibold text-slate-700 dark:text-slate-300",children:[h.firstName," ",h.lastName]}),(0,b.jsx)("p",{className:"jsx-1ef7596cae0ba558 text-xs text-slate-500 dark:text-slate-400",children:h.role})]})]})]}),(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 flex items-center space-x-4",children:[(0,b.jsxs)(e.Badge,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white border-0 shadow-lg",children:[(0,b.jsx)(t.Sparkles,{className:"h-3 w-3 mr-1"}),"Secure"]}),(0,b.jsxs)(f.Button,{onClick:B,className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",size:"sm",children:[(0,b.jsx)(p,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 flex flex-1 relative",children:[l&&(0,b.jsx)("div",{onClick:()=>m(!1),className:"jsx-1ef7596cae0ba558 lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),(0,b.jsxs)("aside",{className:`jsx-1ef7596cae0ba558 
            ${l?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            fixed lg:relative z-50 lg:z-auto
            w-72 h-full lg:h-auto
            backdrop-blur-md bg-white/80 dark:bg-slate-800/80 
            border-r border-white/20 shadow-2xl
            transition-transform duration-300 ease-in-out
            flex flex-col
          `,children:[(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 p-6 flex-1",children:[h&&(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 mb-8 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-2xl border border-indigo-200/50 dark:border-indigo-700/50",children:(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg",children:h.firstName}),(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558",children:[(0,b.jsxs)("p",{className:"jsx-1ef7596cae0ba558 font-semibold text-slate-800 dark:text-white",children:[h.firstName," ",h.lastName]}),(0,b.jsx)(e.Badge,{className:"mt-1 bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-0 text-xs",children:h.role})]})]})}),(0,b.jsxs)("nav",{className:"jsx-1ef7596cae0ba558 space-y-2",children:[(0,b.jsx)("p",{className:"jsx-1ef7596cae0ba558 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4",children:"Navigation"}),v.map((a,c)=>{if(a.superAdminOnly&&h?.role!=="SuperAdmin")return null;let d=a.icon,e=x===a.href||"/admin"!==a.href&&x.startsWith(a.href);return(0,b.jsxs)("a",{href:a.href,style:{animationDelay:`${.1*c}s`,animation:n?"slideInLeft 0.5s ease-out forwards":"none"},className:`jsx-1ef7596cae0ba558 
                        group relative flex items-center px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300
                        ${e?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg transform scale-105":"text-slate-700 dark:text-slate-300 hover:bg-white/60 dark:hover:bg-slate-700/60 hover:text-slate-900 dark:hover:text-white hover:shadow-md hover:scale-105"}
                      `,children:[(0,b.jsx)(d,{className:`jsx-1ef7596cae0ba558 h-5 w-5 mr-3 ${e?"text-white":"text-slate-500 group-hover:text-slate-700 dark:group-hover:text-slate-300"}`}),a.name,e&&(0,b.jsx)(u.ChevronRight,{className:"h-4 w-4 ml-auto text-white/70"}),e&&(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 absolute right-2 w-2 h-2 bg-white/50 rounded-full animate-pulse"})]},a.name)})]})]}),(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 p-6 border-t border-slate-200/50 dark:border-slate-600/50",children:(0,b.jsxs)("div",{className:"jsx-1ef7596cae0ba558 text-xs text-slate-500 dark:text-slate-400 text-center",children:[(0,b.jsx)("p",{className:"jsx-1ef7596cae0ba558",children:"Â© 2024 Royal Gems Institute"}),(0,b.jsx)("p",{className:"jsx-1ef7596cae0ba558 mt-1",children:"Admin Portal v2.0"})]})})]}),(0,b.jsx)("main",{className:"jsx-1ef7596cae0ba558 flex-1 overflow-auto",children:(0,b.jsx)("div",{className:"jsx-1ef7596cae0ba558 p-6",children:a})})]})]}),(0,b.jsx)(c.default,{id:"1ef7596cae0ba558",children:".admin-layout{font-size:1.6rem}.admin-layout *{font-size:inherit}.admin-layout h1{font-size:2.4rem}.admin-layout h2{font-size:2rem}.admin-layout h3{font-size:1.8rem}.admin-layout .text-xs{font-size:1.2rem}.admin-layout .text-sm{font-size:1.4rem}.admin-layout .text-base{font-size:1.6rem}.admin-layout .text-lg{font-size:1.8rem}.admin-layout .text-xl{font-size:2rem}.admin-layout .text-2xl{font-size:2.4rem}.admin-layout .text-3xl{font-size:3rem}.admin-layout .text-4xl{font-size:3.6rem}@keyframes slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}"})]}):null:null}}];

//# sourceMappingURL=_379af74c._.js.map