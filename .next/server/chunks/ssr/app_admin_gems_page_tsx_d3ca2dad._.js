module.exports=[57808,a=>{"use strict";a.s(["default",()=>C],57808);var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(87682),j=a.i(54161),k=a.i(28951),l=a.i(15618),m=a.i(87532),n=a.i(68976),o=a.i(81560),p=a.i(77156),q=a.i(41379),r=a.i(67453),s=a.i(62722),t=a.i(92e3),u=a.i(69520),v=a.i(38632),w=a.i(90166),x=a.i(83497);let y=(0,a.i(70106).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var z=a.i(41675),A=a.i(38784);function B(a){let b=Array.isArray(a?.images)?a.images:[];return{...a,images:b,image_url:a?.image_url??b[0]??"",stock_quantity:"number"==typeof a?.stock_quantity?a.stock_quantity:0,is_active:!!a?.is_active,created_at:a?.created_at??new Date().toISOString()}}function C(){let[a,C]=(0,d.useState)([]),[D,E]=(0,d.useState)(a),[F,G]=(0,d.useState)(""),[H,I]=(0,d.useState)("All"),[J,K]=(0,d.useState)("All"),[L,M]=(0,d.useState)(!1),[N,O]=(0,d.useState)(!1),[P,Q]=(0,d.useState)(null),[R,S]=(0,d.useState)({name:"",price:0,image_url:"",stock_quantity:0,active:!0,identification:"",weight_carats:"",color:"",clarity:"",shape_and_cut:"",dimensions:"",treatments:"",origin:""}),[T,U]=(0,d.useState)(null),[V,W]=(0,d.useState)(!1),[X,Y]=(0,d.useState)(null),[Z,$]=(0,d.useState)(!1);function _(){S({name:"",price:0,image_url:"",stock_quantity:0,active:!0,identification:"",weight_carats:"",color:"",clarity:"",shape_and_cut:"",dimensions:"",treatments:"",origin:""}),U(null),Y(null)}async function aa(a){let b=new FormData;b.append("file",a);let c=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"",d=await fetch("/api/admin/upload",{method:"POST",headers:{"x-csrf-token":c},body:b,credentials:"include"});if(!d.ok)throw Error((await d.json()).error||"Failed to upload image");return(await d.json()).url}async function ab(){Y(null),M(!0);try{let a=R.image_url;if(T){W(!0);try{a=await aa(T)}catch(a){Y(`Image upload failed: ${a.message}`),W(!1),M(!1);return}W(!1)}let b=a||R.image_url;if(P){try{let a=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"",c=await fetch("/api/admin/gems",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":a},credentials:"include",body:JSON.stringify({id:P.id,name:R.name,price:R.price,stock_quantity:R.stock_quantity,is_active:R.active,images:b?[b]:[],identification:R.identification,weight_carats:R.weight_carats,color:R.color,clarity:R.clarity,shape_and_cut:R.shape_and_cut,dimensions:R.dimensions,treatments:R.treatments,origin:R.origin})});if(!c.ok)throw Error("Failed to update product");let d=B(await c.json());C(a=>a.map(a=>a.id===d.id?d:a))}catch(a){Y("Failed to update product");return}Q(null)}else{try{let a=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"",c=await fetch("/api/admin/gems",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":a},credentials:"include",body:JSON.stringify({name:R.name,price:R.price,stock_quantity:R.stock_quantity,is_active:R.active,images:b?[b]:[],identification:R.identification,weight_carats:R.weight_carats,color:R.color,clarity:R.clarity,shape_and_cut:R.shape_and_cut,dimensions:R.dimensions,treatments:R.treatments,origin:R.origin})});if(!c.ok)throw Error("Failed to create product");let d=B(await c.json());C(a=>[d,...a])}catch(a){Y("Failed to create product");return}O(!1)}_()}catch(a){Y("Failed to save product")}finally{M(!1)}}async function ac(a){if(confirm(`Are you sure you want to delete "${a.name}"?`)){M(!0);try{let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"";if(!(await fetch(`/api/admin/gems?id=${a.id}`,{method:"DELETE",headers:{"x-csrf-token":b,"Content-Type":"application/json"},credentials:"include"})).ok)throw Error("Failed to delete product");C(b=>b.filter(b=>b.id!==a.id))}catch(a){Y("Failed to delete product")}finally{M(!1)}}}async function ad(a){M(!0);try{let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"";if(!(await fetch("/api/admin/gems",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":b},credentials:"include",body:JSON.stringify({id:a.id,is_active:!a.is_active})})).ok)throw Error("Failed to update product");C(b=>b.map(b=>b.id===a.id?{...b,is_active:!b.is_active}:b))}catch(a){Y("Failed to update product")}finally{M(!1)}}function ae(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(a)}if((0,d.useEffect)(()=>{$(!0),async function(){try{let a=await fetch("/api/admin/gems",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!a.ok)throw Error("Failed to fetch gems");let b=await a.json(),c=Array.isArray(b?.gems)?b.gems:[];C(c.map(B))}catch(a){}}()},[]),(0,d.useEffect)(()=>{let b;b=[...a],F&&(b=b.filter(a=>a.name.toLowerCase().includes(F.toLowerCase())||(a.identification||"").toLowerCase().includes(F.toLowerCase())||(a.origin||"").toLowerCase().includes(F.toLowerCase()))),"All"!==H&&("Active"===H?b=b.filter(a=>a.is_active):"Inactive"===H?b=b.filter(a=>!a.is_active):"Out of Stock"===H?b=b.filter(a=>0===a.stock_quantity):"Low Stock"===H&&(b=b.filter(a=>a.stock_quantity>0&&a.stock_quantity<=5))),"All"!==J&&("Under $1000"===J?b=b.filter(a=>a.price<1e3):"$1000-$5000"===J?b=b.filter(a=>a.price>=1e3&&a.price<=5e3):"$5000-$10000"===J?b=b.filter(a=>a.price>5e3&&a.price<=1e4):"Over $10000"===J&&(b=b.filter(a=>a.price>1e4))),E(b)},[a,F,H,J]),!Z)return null;let af={total:a.length,active:a.filter(a=>a.is_active).length,outOfStock:a.filter(a=>0===a.stock_quantity).length,lowStock:a.filter(a=>a.stock_quantity>0&&a.stock_quantity<=5).length,totalValue:a.reduce((a,b)=>a+b.price*b.stock_quantity,0)};return(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 admin-products-page space-y-8",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 fixed inset-0 overflow-hidden pointer-events-none opacity-30",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 absolute top-20 right-10 w-32 h-32 bg-gradient-to-r from-purple-400/20 to-pink-400/20 rounded-full animate-pulse"}),(0,b.jsx)("div",{style:{animationDuration:"3s"},className:"jsx-3531dfd0cebe6dd9 absolute bottom-20 left-10 w-24 h-24 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 rounded-full animate-bounce"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative z-10 backdrop-blur-md bg-white/80 dark:bg-slate-800/80 rounded-2xl p-6 shadow-2xl border border-white/20",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg",children:(0,b.jsx)(k.Gem,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9",children:[(0,b.jsx)("h1",{className:"jsx-3531dfd0cebe6dd9 text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Gems & Products"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-slate-600 dark:text-slate-400 mt-1",children:"Manage your precious gems inventory"})]})]}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3",children:(0,b.jsxs)(f.Button,{onClick:()=>{O(!N),Q(null),_()},className:`${N?"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600"} text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[N?(0,b.jsx)(s.XCircle,{className:"h-5 w-5 mr-2"}):(0,b.jsx)(l.Plus,{className:"h-5 w-5 mr-2"}),N?"Cancel":"Add Product"]})})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-slate-800 dark:text-white",children:af.total}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Total Products"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-emerald-600",children:af.active}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Active"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-red-600",children:af.outOfStock}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Out of Stock"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-orange-600",children:af.lowStock}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Low Stock"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-purple-600",children:ae(af.totalValue)}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Total Value"})]})]})]}),X&&(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center text-red-600 dark:text-red-400",children:[(0,b.jsx)(t.AlertCircle,{className:"h-4 w-4 mr-2"}),X]})}),(N||P)&&(0,b.jsxs)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-2xl rounded-2xl overflow-hidden",style:{animation:"slideDown 0.5s ease-out"},children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 absolute inset-0 bg-gradient-to-r from-purple-500/5 via-pink-500/5 to-purple-500/5"}),(0,b.jsx)(e.CardHeader,{className:"relative z-10 bg-gradient-to-r from-slate-50 to-purple-50 dark:from-slate-800 dark:to-slate-700 border-b border-slate-200/50 dark:border-slate-600/50",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg shadow-lg",children:(0,b.jsx)(k.Gem,{className:"h-5 w-5 text-white"})}),(0,b.jsx)(e.CardTitle,{className:"text-xl font-bold text-slate-800 dark:text-white",children:P?"Edit Product":"Add New Product"})]})}),(0,b.jsx)(e.CardContent,{className:"relative z-10 p-6",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(y,{className:"h-4 w-4 mr-2"}),"Product Name"]}),(0,b.jsx)(g.Input,{value:R.name,onChange:a=>S({...R,name:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Ceylon Blue Sapphire",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(w.DollarSign,{className:"h-4 w-4 mr-2"}),"Price (USD)"]}),(0,b.jsx)(g.Input,{type:"number",step:"0.01",min:"0",value:R.price,onChange:a=>S({...R,price:parseFloat(a.target.value)||0}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"2500.00",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(A.ShoppingCart,{className:"h-4 w-4 mr-2"}),"Stock Quantity"]}),(0,b.jsx)(g.Input,{type:"number",min:"0",value:R.stock_quantity,onChange:a=>S({...R,stock_quantity:parseInt(a.target.value)||0}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"5",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(n.Edit3,{className:"h-4 w-4 mr-2"}),"Identification"]}),(0,b.jsx)(g.Input,{value:R.identification,onChange:a=>S({...R,identification:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Natural Blue Sapphire"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Weight (Carats)"]}),(0,b.jsx)(g.Input,{value:R.weight_carats,onChange:a=>S({...R,weight_carats:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"2.50"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Shape / Cut"]}),(0,b.jsx)(g.Input,{value:R.shape_and_cut,onChange:a=>S({...R,shape_and_cut:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Oval"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Color"]}),(0,b.jsx)(g.Input,{value:R.color,onChange:a=>S({...R,color:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Royal Blue"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Clarity"]}),(0,b.jsx)(g.Input,{value:R.clarity,onChange:a=>S({...R,clarity:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"VS"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Dimensions"]}),(0,b.jsx)(g.Input,{value:R.dimensions,onChange:a=>S({...R,dimensions:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"8.0 x 6.0 x 4.2 mm"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Treatments"]}),(0,b.jsx)(g.Input,{value:R.treatments,onChange:a=>S({...R,treatments:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Heat"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Origin"]}),(0,b.jsx)(g.Input,{value:R.origin,onChange:a=>S({...R,origin:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Sri Lanka"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(v.Image,{className:"h-4 w-4 mr-2"}),"Product Image"]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];b&&(U(b),S({...R,image_url:""}))},id:"image-upload",className:"jsx-3531dfd0cebe6dd9 hidden"}),(0,b.jsxs)("label",{htmlFor:"image-upload",className:"jsx-3531dfd0cebe6dd9 flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl cursor-pointer hover:from-blue-600 hover:to-purple-600 transition-all duration-300",children:[(0,b.jsx)(v.Image,{className:"h-4 w-4 mr-2"}),"Choose Image"]}),T&&(0,b.jsx)("span",{className:"jsx-3531dfd0cebe6dd9 text-sm text-slate-600 dark:text-slate-400",children:T.name})]}),(T||R.image_url)&&(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[(0,b.jsx)("img",{src:T?URL.createObjectURL(T):R.image_url,alt:"Preview",className:"jsx-3531dfd0cebe6dd9 w-16 h-16 object-cover rounded-lg border border-slate-200 dark:border-slate-600"}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex-1",children:[(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Image Preview"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-500 dark:text-slate-400",children:T?`${T.name} (${(T.size/1024/1024).toFixed(2)} MB)`:"URL Image"})]}),(0,b.jsx)("button",{onClick:()=>{U(null),S({...R,image_url:""})},className:"jsx-3531dfd0cebe6dd9 text-red-500 hover:text-red-700 p-1",children:"✕"})]}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-center text-slate-500 dark:text-slate-400 text-sm mb-2",children:"— OR —"}),(0,b.jsx)(g.Input,{value:R.image_url,onChange:a=>{S({...R,image_url:a.target.value}),a.target.value&&U(null)},className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"https://example.com/sapphire.jpg",disabled:!!T}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-500 dark:text-slate-400",children:"Enter an image URL or upload a file above"})]})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3 md:col-span-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"active",checked:R.active,onChange:a=>S({...R,active:a.target.checked}),className:"jsx-3531dfd0cebe6dd9 w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),(0,b.jsx)(h.Label,{htmlFor:"active",className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Product is active and available for sale"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 md:col-span-2 flex justify-end space-x-3",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{O(!1),Q(null),_()},className:"px-6",children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:ab,disabled:L||V,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-lg px-6",children:V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):L?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.CheckCircle2,{className:"h-4 w-4 mr-2"}),P?"Update Product":"Create Product"]})})]})]})})]}),(0,b.jsx)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg rounded-xl",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,b.jsx)(g.Input,{placeholder:"Search products...",value:F,onChange:a=>G(a.target.value),className:"pl-10 h-11 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl"})]}),(0,b.jsxs)(i.Select,{value:H,onValueChange:I,children:[(0,b.jsx)(i.SelectTrigger,{className:"h-11 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",children:(0,b.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"All",children:"All Status"}),(0,b.jsx)(i.SelectItem,{value:"Active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"Inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"Out of Stock",children:"Out of Stock"}),(0,b.jsx)(i.SelectItem,{value:"Low Stock",children:"Low Stock"})]})]}),(0,b.jsxs)(i.Select,{value:J,onValueChange:K,children:[(0,b.jsx)(i.SelectTrigger,{className:"h-11 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",children:(0,b.jsx)(i.SelectValue,{placeholder:"Price Range"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"All",children:"All Prices"}),(0,b.jsx)(i.SelectItem,{value:"Under $1000",children:"Under $1,000"}),(0,b.jsx)(i.SelectItem,{value:"$1000-$5000",children:"$1,000 - $5,000"}),(0,b.jsx)(i.SelectItem,{value:"$5000-$10000",children:"$5,000 - $10,000"}),(0,b.jsx)(i.SelectItem,{value:"Over $10000",children:"Over $10,000"})]})]}),(0,b.jsxs)(f.Button,{onClick:()=>{G(""),I("All"),K("All")},variant:"outline",className:"h-11 border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:[(0,b.jsx)(u.RefreshCw,{className:"h-4 w-4 mr-2"}),"Reset"]})]})})}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 scr-y",children:D.map((a,c)=>{var d,g;return(0,b.jsxs)(e.Card,{className:"group backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg hover:shadow-2xl rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:-translate-y-2",style:{animationDelay:`${.1*c}s`,animation:Z?"fadeInUp 0.6s ease-out forwards":"none"},children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 absolute inset-0 bg-gradient-to-br from-slate-50/50 to-purple-50/50 dark:from-slate-800/50 dark:to-slate-700/50"}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative h-48 overflow-hidden",children:[(0,b.jsx)("img",{src:a.image_url||"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=300&h=300&fit=crop",alt:a.name,onError:a=>{a.currentTarget.src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=300&h=300&fit=crop"},className:"jsx-3531dfd0cebe6dd9 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 absolute top-3 right-3 flex flex-col space-y-2",children:[(0,b.jsx)(j.Badge,{className:`bg-gradient-to-r ${a.is_active?"from-emerald-500 to-teal-500":"from-red-500 to-pink-500"} text-white border-0 text-xs`,children:a.is_active?"Active":"Inactive"}),(0,b.jsx)(j.Badge,{className:`bg-gradient-to-r ${0===(d=a.stock_quantity)?"from-red-500 to-pink-500":d<=5?"from-orange-500 to-amber-500":"from-emerald-500 to-teal-500"} text-white border-0 text-xs`,children:0===(g=a.stock_quantity)?"Out of Stock":g<=5?"Low Stock":"In Stock"})]})]}),(0,b.jsx)(e.CardContent,{className:"relative z-10 p-4",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9",children:[(0,b.jsx)("h3",{className:"jsx-3531dfd0cebe6dd9 font-bold text-lg text-slate-800 dark:text-white line-clamp-1",children:a.name}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mt-1",children:a.identification||""})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-purple-600",children:ae(a.price)}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 text-sm text-slate-500 dark:text-slate-400",children:["Stock: ",a.stock_quantity]})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-400 flex items-center",children:[(0,b.jsx)(z.Calendar,{className:"h-3 w-3 mr-1"}),"Created ",new Date(a.created_at).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex space-x-2 pt-2",children:[(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",onClick:()=>{Q(a),S({name:a.name,price:a.price,image_url:a.image_url||a.images?.[0]||"",stock_quantity:a.stock_quantity,active:a.is_active,identification:a.identification||"",weight_carats:a.weight_carats||"",color:a.color||"",clarity:a.clarity||"",shape_and_cut:a.shape_and_cut||"",dimensions:a.dimensions||"",treatments:a.treatments||"",origin:a.origin||""}),U(null),O(!1)},className:"flex-1 h-8 text-xs border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:[(0,b.jsx)(n.Edit3,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>ad(a),className:"h-8 text-xs border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:a.is_active?(0,b.jsx)(q.EyeOff,{className:"h-3 w-3"}):(0,b.jsx)(p.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{size:"sm",variant:"destructive",onClick:()=>ac(a),className:"h-8 text-xs bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 border-0",children:(0,b.jsx)(o.Trash2,{className:"h-3 w-3"})})]})]})})]},a.id)})}),0===D.length&&(0,b.jsx)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg rounded-xl",children:(0,b.jsxs)(e.CardContent,{className:"py-16 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-full flex items-center justify-center",children:(0,b.jsx)(k.Gem,{className:"h-8 w-8 text-slate-500 dark:text-slate-400"})}),(0,b.jsx)("h3",{className:"jsx-3531dfd0cebe6dd9 text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:0===a.length?"No Products Found":"No Products Match Your Filters"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-slate-500 dark:text-slate-400 mb-4",children:0===a.length?"Start building your gem collection by adding your first product.":"Try adjusting your search criteria or filters to find more products."}),0===a.length&&(0,b.jsxs)(f.Button,{onClick:()=>{O(!0),Q(null),_()},className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-lg",children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Add First Product"]})]})}),L&&(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white dark:bg-slate-800 rounded-2xl p-8 shadow-2xl text-center",children:[(0,b.jsx)(u.RefreshCw,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-slate-700 dark:text-slate-300",children:"Processing..."})]})}),(0,b.jsx)(c.default,{id:"3531dfd0cebe6dd9",children:".admin-products-page.jsx-3531dfd0cebe6dd9{font-size:1.6rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .jsx-3531dfd0cebe6dd9{font-size:inherit}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-xs.jsx-3531dfd0cebe6dd9{font-size:1.2rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-sm.jsx-3531dfd0cebe6dd9{font-size:1.4rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-base.jsx-3531dfd0cebe6dd9{font-size:1.6rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-lg.jsx-3531dfd0cebe6dd9{font-size:1.8rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-xl.jsx-3531dfd0cebe6dd9{font-size:2rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-2xl.jsx-3531dfd0cebe6dd9{font-size:2.4rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-3xl.jsx-3531dfd0cebe6dd9{font-size:3rem}.line-clamp-1.jsx-3531dfd0cebe6dd9{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-2.jsx-3531dfd0cebe6dd9{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"})]})}}];

//# sourceMappingURL=app_admin_gems_page_tsx_d3ca2dad._.js.map