module.exports=[57808,a=>{"use strict";a.s(["default",()=>D],57808);var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(87682),j=a.i(54161),k=a.i(28951),l=a.i(15618),m=a.i(87532),n=a.i(68976),o=a.i(81560),p=a.i(77156),q=a.i(41379),r=a.i(67453),s=a.i(62722),t=a.i(92e3),u=a.i(69520),v=a.i(38632),w=a.i(90166),x=a.i(83497);let y=(0,a.i(70106).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var z=a.i(41675),A=a.i(38784),B=a.i(21374);function C(a){let b=Array.isArray(a?.images)?a.images:[];return{...a,images:b,image_url:a?.image_url??b[0]??"",stock_quantity:"number"==typeof a?.stock_quantity?a.stock_quantity:0,is_active:!!a?.is_active,is_month_highlight:!!a?.is_month_highlight,created_at:a?.created_at??new Date().toISOString()}}function D(){let[a,D]=(0,d.useState)([]),[E,F]=(0,d.useState)(a),[G,H]=(0,d.useState)(""),[I,J]=(0,d.useState)("All"),[K,L]=(0,d.useState)("All"),[M,N]=(0,d.useState)(!1),[O,P]=(0,d.useState)(!1),[Q,R]=(0,d.useState)(null),[S,T]=(0,d.useState)({name:"",price:0,images:[],stock_quantity:0,active:!0,identification:"",weight_carats:"",color:"",clarity:"",shape_and_cut:"",dimensions:"",treatments:"",origin:""}),[U,V]=(0,d.useState)([]),[W,X]=(0,d.useState)(!1),[Y,Z]=(0,d.useState)(null),[$,_]=(0,d.useState)(!1);function aa(){T({name:"",price:0,images:[],stock_quantity:0,active:!0,identification:"",weight_carats:"",color:"",clarity:"",shape_and_cut:"",dimensions:"",treatments:"",origin:""}),V([]),Z(null)}async function ab(a){let b=new FormData;b.append("file",a);let c=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"",d=await fetch("/api/admin/upload",{method:"POST",headers:{"x-csrf-token":c},body:b,credentials:"include"});if(!d.ok)throw Error((await d.json()).error||"Failed to upload image");return(await d.json()).url}async function ac(){if(Z(null),!S.name.trim())return void Z("Product name is required");if(S.price<=0)return void Z("Price must be greater than 0");if(S.stock_quantity<0)return void Z("Stock quantity cannot be negative");N(!0);try{let a=[...S.images];if(U.length>0){X(!0);try{for(let b of U){let c=await ab(b);a.push(c)}}catch(a){Z(`Image upload failed: ${a.message}`),X(!1),N(!1);return}X(!1)}if(a=a.slice(0,5),Q){try{let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"",c=await fetch("/api/admin/gems",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":b},credentials:"include",body:JSON.stringify({id:Q.id,name:S.name,price:S.price,stock_quantity:S.stock_quantity,is_active:S.active,images:a,identification:S.identification||void 0,weight_carats:S.weight_carats||void 0,color:S.color||void 0,clarity:S.clarity||void 0,shape_and_cut:S.shape_and_cut||void 0,dimensions:S.dimensions||void 0,treatments:S.treatments||void 0,origin:S.origin||void 0})});if(!c.ok)throw Error("Failed to update product");let d=C(await c.json());D(a=>a.map(a=>a.id===d.id?d:a))}catch(a){Z("Failed to update product");return}R(null)}else{try{let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"",c=await fetch("/api/admin/gems",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":b},credentials:"include",body:JSON.stringify({name:S.name,price:S.price,stock_quantity:S.stock_quantity,is_active:S.active,images:a,identification:S.identification||void 0,weight_carats:S.weight_carats||void 0,color:S.color||void 0,clarity:S.clarity||void 0,shape_and_cut:S.shape_and_cut||void 0,dimensions:S.dimensions||void 0,treatments:S.treatments||void 0,origin:S.origin||void 0})});if(!c.ok)throw Error("Failed to create product");let d=C(await c.json());D(a=>[d,...a])}catch(a){Z("Failed to create product");return}P(!1)}aa()}catch(a){Z("Failed to save product")}finally{N(!1)}}async function ad(a){if(confirm(`Are you sure you want to delete "${a.name}"?`)){N(!0);try{let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"";if(!(await fetch(`/api/admin/gems?id=${a.id}`,{method:"DELETE",headers:{"x-csrf-token":b,"Content-Type":"application/json"},credentials:"include"})).ok)throw Error("Failed to delete product");D(b=>b.filter(b=>b.id!==a.id))}catch(a){Z("Failed to delete product")}finally{N(!1)}}}async function ae(a){N(!0);try{let b=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"";if(!(await fetch("/api/admin/gems",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":b},credentials:"include",body:JSON.stringify({id:a.id,is_active:!a.is_active})})).ok)throw Error("Failed to update product");D(b=>b.map(b=>b.id===a.id?{...b,is_active:!b.is_active}:b))}catch(a){Z("Failed to update product")}finally{N(!1)}}async function af(a,b){N(!0),Z(null);try{let c=document.cookie.split("; ").find(a=>a.startsWith("csrfToken="))?.split("=")[1]||"";if(!(await fetch("/api/admin/gems",{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":c},credentials:"include",body:JSON.stringify({id:a.id,is_month_highlight:b})})).ok)throw Error("Failed to update highlight");D(c=>c.map(c=>b?{...c,is_month_highlight:c.id===a.id}:c.id===a.id?{...c,is_month_highlight:!1}:c))}catch(a){Z("Failed to update highlight")}finally{N(!1)}}function ag(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(a)}if((0,d.useEffect)(()=>{_(!0),async function(){try{let a=await fetch("/api/admin/gems",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!a.ok)throw Error("Failed to fetch gems");let b=await a.json(),c=Array.isArray(b?.gems)?b.gems:[];D(c.map(C))}catch(a){}}()},[]),(0,d.useEffect)(()=>{let b;b=[...a],G&&(b=b.filter(a=>a.name.toLowerCase().includes(G.toLowerCase())||(a.identification||"").toLowerCase().includes(G.toLowerCase())||(a.origin||"").toLowerCase().includes(G.toLowerCase()))),"All"!==I&&("Active"===I?b=b.filter(a=>a.is_active):"Inactive"===I?b=b.filter(a=>!a.is_active):"Out of Stock"===I?b=b.filter(a=>0===a.stock_quantity):"Low Stock"===I&&(b=b.filter(a=>a.stock_quantity>0&&a.stock_quantity<=5))),"All"!==K&&("Under $1000"===K?b=b.filter(a=>a.price<1e3):"$1000-$5000"===K?b=b.filter(a=>a.price>=1e3&&a.price<=5e3):"$5000-$10000"===K?b=b.filter(a=>a.price>5e3&&a.price<=1e4):"Over $10000"===K&&(b=b.filter(a=>a.price>1e4))),F(b)},[a,G,I,K]),!$)return null;let ah={total:a.length,active:a.filter(a=>a.is_active).length,outOfStock:a.filter(a=>0===a.stock_quantity).length,lowStock:a.filter(a=>a.stock_quantity>0&&a.stock_quantity<=5).length,totalValue:a.reduce((a,b)=>a+b.price*b.stock_quantity,0)};return(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 admin-products-page space-y-8",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 fixed inset-0 overflow-hidden pointer-events-none opacity-30",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 absolute top-20 right-10 w-32 h-32 bg-gradient-to-r from-purple-400/20 to-pink-400/20 rounded-full animate-pulse"}),(0,b.jsx)("div",{style:{animationDuration:"3s"},className:"jsx-3531dfd0cebe6dd9 absolute bottom-20 left-10 w-24 h-24 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 rounded-full animate-bounce"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative z-10 backdrop-blur-md bg-white/80 dark:bg-slate-800/80 rounded-2xl p-6 shadow-2xl border border-white/20",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg",children:(0,b.jsx)(k.Gem,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9",children:[(0,b.jsx)("h1",{className:"jsx-3531dfd0cebe6dd9 text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Gems & Products"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-slate-600 dark:text-slate-400 mt-1",children:"Manage your precious gems inventory"})]})]}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3",children:(0,b.jsxs)(f.Button,{onClick:()=>{P(!O),R(null),aa()},className:`${O?"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600"} text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[O?(0,b.jsx)(s.XCircle,{className:"h-5 w-5 mr-2"}):(0,b.jsx)(l.Plus,{className:"h-5 w-5 mr-2"}),O?"Cancel":"Add Product"]})})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-slate-800 dark:text-white",children:ah.total}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Total Products"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-emerald-600",children:ah.active}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Active"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-red-600",children:ah.outOfStock}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Out of Stock"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-orange-600",children:ah.lowStock}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Low Stock"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white/60 dark:bg-slate-700/60 rounded-xl p-4 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-purple-600",children:ag(ah.totalValue)}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-600 dark:text-slate-400",children:"Total Value"})]})]})]}),Y&&(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center text-red-600 dark:text-red-400",children:[(0,b.jsx)(t.AlertCircle,{className:"h-4 w-4 mr-2"}),Y]})}),(O||Q)&&(0,b.jsxs)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-2xl rounded-2xl overflow-hidden",style:{animation:"slideDown 0.5s ease-out"},children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 absolute inset-0 bg-gradient-to-r from-purple-500/5 via-pink-500/5 to-purple-500/5"}),(0,b.jsx)(e.CardHeader,{className:"relative z-10 bg-gradient-to-r from-slate-50 to-purple-50 dark:from-slate-800 dark:to-slate-700 border-b border-slate-200/50 dark:border-slate-600/50",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg shadow-lg",children:(0,b.jsx)(k.Gem,{className:"h-5 w-5 text-white"})}),(0,b.jsx)(e.CardTitle,{className:"text-xl font-bold text-slate-800 dark:text-white",children:Q?"Edit Product":"Add New Product"})]})}),(0,b.jsx)(e.CardContent,{className:"relative z-10 p-6",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(y,{className:"h-4 w-4 mr-2"}),"Product Name"]}),(0,b.jsx)(g.Input,{value:S.name,onChange:a=>T({...S,name:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Ceylon Blue Sapphire",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(w.DollarSign,{className:"h-4 w-4 mr-2"}),"Price (USD)"]}),(0,b.jsx)(g.Input,{type:"number",step:"0.01",min:"0",value:S.price,onChange:a=>T({...S,price:parseFloat(a.target.value)||0}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"2500.00",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(A.ShoppingCart,{className:"h-4 w-4 mr-2"}),"Stock Quantity"]}),(0,b.jsx)(g.Input,{type:"number",min:"0",value:S.stock_quantity,onChange:a=>T({...S,stock_quantity:parseInt(a.target.value)||0}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"5",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(n.Edit3,{className:"h-4 w-4 mr-2"}),"Identification"]}),(0,b.jsx)(g.Input,{value:S.identification,onChange:a=>T({...S,identification:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Natural Blue Sapphire"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Weight (Carats)"]}),(0,b.jsx)(g.Input,{value:S.weight_carats,onChange:a=>T({...S,weight_carats:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"2.50"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Shape / Cut"]}),(0,b.jsx)(g.Input,{value:S.shape_and_cut,onChange:a=>T({...S,shape_and_cut:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Oval"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Color"]}),(0,b.jsx)(g.Input,{value:S.color,onChange:a=>T({...S,color:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Royal Blue"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Clarity"]}),(0,b.jsx)(g.Input,{value:S.clarity,onChange:a=>T({...S,clarity:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"VS"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Dimensions"]}),(0,b.jsx)(g.Input,{value:S.dimensions,onChange:a=>T({...S,dimensions:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"8.0 x 6.0 x 4.2 mm"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Treatments"]}),(0,b.jsx)(g.Input,{value:S.treatments,onChange:a=>T({...S,treatments:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Heat"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(x.Package,{className:"h-4 w-4 mr-2"}),"Origin"]}),(0,b.jsx)(g.Input,{value:S.origin,onChange:a=>T({...S,origin:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Sri Lanka"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(v.Image,{className:"h-4 w-4 mr-2"}),"Product Images (Up to 5)"]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:a=>{let b=Array.from(a.target.files||[]);if(S.images.length+U.length+b.length>5)return void Z("Maximum 5 images allowed");V([...U,...b])},id:"image-upload",disabled:S.images.length+U.length>=5,className:"jsx-3531dfd0cebe6dd9 hidden"}),(0,b.jsxs)("label",{htmlFor:"image-upload",className:`jsx-3531dfd0cebe6dd9 flex items-center px-4 py-2 rounded-xl cursor-pointer transition-all duration-300 ${S.images.length+U.length>=5?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600"}`,children:[(0,b.jsx)(v.Image,{className:"h-4 w-4 mr-2"}),"Add Images (",S.images.length+U.length,"/5)"]})]}),S.images.length>0&&(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-2",children:[(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Existing Images:"}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 flex flex-wrap gap-3",children:S.images.map((a,c)=>(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative group",children:[(0,b.jsx)("img",{src:a,alt:`Existing ${c+1}`,className:"jsx-3531dfd0cebe6dd9 w-20 h-20 object-cover rounded-lg border-2 border-slate-200 dark:border-slate-600"}),(0,b.jsx)("button",{type:"button",onClick:()=>{T({...S,images:S.images.filter((a,b)=>b!==c)})},className:"jsx-3531dfd0cebe6dd9 absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",children:"✕"})]},`existing-${c}`))})]}),U.length>0&&(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-2",children:[(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-sm font-medium text-slate-700 dark:text-slate-300",children:"New Images to Upload:"}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 flex flex-wrap gap-3",children:U.map((a,c)=>(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative group",children:[(0,b.jsx)("img",{src:URL.createObjectURL(a),alt:`New ${c+1}`,className:"jsx-3531dfd0cebe6dd9 w-20 h-20 object-cover rounded-lg border-2 border-blue-400"}),(0,b.jsx)("button",{type:"button",onClick:()=>{V(U.filter((a,b)=>b!==c))},className:"jsx-3531dfd0cebe6dd9 absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",children:"✕"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-xs text-center mt-1 truncate w-20",children:a.name})]},`new-${c}`))})]}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-500 dark:text-slate-400",children:"Upload up to 5 images for this product. Supported formats: JPG, PNG, WebP"})]})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center space-x-3 md:col-span-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"active",checked:S.active,onChange:a=>T({...S,active:a.target.checked}),className:"jsx-3531dfd0cebe6dd9 w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),(0,b.jsx)(h.Label,{htmlFor:"active",className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Product is active and available for sale"})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 md:col-span-2 flex justify-end space-x-3",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{P(!1),R(null),aa()},className:"px-6",children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:ac,disabled:M||W,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-lg px-6",children:W?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.CheckCircle2,{className:"h-4 w-4 mr-2"}),Q?"Update Product":"Create Product"]})})]})]})})]}),(0,b.jsx)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg rounded-xl",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,b.jsx)(g.Input,{placeholder:"Search products...",value:G,onChange:a=>H(a.target.value),className:"pl-10 h-11 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl"})]}),(0,b.jsxs)(i.Select,{value:I,onValueChange:J,children:[(0,b.jsx)(i.SelectTrigger,{className:"h-11 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",children:(0,b.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"All",children:"All Status"}),(0,b.jsx)(i.SelectItem,{value:"Active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"Inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"Out of Stock",children:"Out of Stock"}),(0,b.jsx)(i.SelectItem,{value:"Low Stock",children:"Low Stock"})]})]}),(0,b.jsxs)(i.Select,{value:K,onValueChange:L,children:[(0,b.jsx)(i.SelectTrigger,{className:"h-11 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",children:(0,b.jsx)(i.SelectValue,{placeholder:"Price Range"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"All",children:"All Prices"}),(0,b.jsx)(i.SelectItem,{value:"Under $1000",children:"Under $1,000"}),(0,b.jsx)(i.SelectItem,{value:"$1000-$5000",children:"$1,000 - $5,000"}),(0,b.jsx)(i.SelectItem,{value:"$5000-$10000",children:"$5,000 - $10,000"}),(0,b.jsx)(i.SelectItem,{value:"Over $10000",children:"Over $10,000"})]})]}),(0,b.jsxs)(f.Button,{onClick:()=>{H(""),J("All"),L("All")},variant:"outline",className:"h-11 border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:[(0,b.jsx)(u.RefreshCw,{className:"h-4 w-4 mr-2"}),"Reset"]})]})})}),(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 scr-y",children:E.map((a,c)=>{var d,g;return(0,b.jsxs)(e.Card,{className:"group backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg hover:shadow-2xl rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:-translate-y-2",style:{animationDelay:`${.1*c}s`,animation:$?"fadeInUp 0.6s ease-out forwards":"none"},children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 absolute inset-0 bg-gradient-to-br from-slate-50/50 to-purple-50/50 dark:from-slate-800/50 dark:to-slate-700/50"}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 relative h-48 overflow-hidden",children:[(0,b.jsx)("img",{src:a.image_url||"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=300&h=300&fit=crop",alt:a.name,onError:a=>{a.currentTarget.src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=300&h=300&fit=crop"},className:"jsx-3531dfd0cebe6dd9 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 absolute top-3 right-3 flex flex-col space-y-2",children:[a.is_month_highlight?(0,b.jsxs)(j.Badge,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-black border-0 text-xs",children:[(0,b.jsx)(B.Star,{className:"h-3 w-3 mr-1"})," Highlight"]}):null,(0,b.jsx)(j.Badge,{className:`bg-gradient-to-r ${a.is_active?"from-emerald-500 to-teal-500":"from-red-500 to-pink-500"} text-white border-0 text-xs`,children:a.is_active?"Active":"Inactive"}),(0,b.jsx)(j.Badge,{className:`bg-gradient-to-r ${0===(d=a.stock_quantity)?"from-red-500 to-pink-500":d<=5?"from-orange-500 to-amber-500":"from-emerald-500 to-teal-500"} text-white border-0 text-xs`,children:0===(g=a.stock_quantity)?"Out of Stock":g<=5?"Low Stock":"In Stock"})]})]}),(0,b.jsx)(e.CardContent,{className:"relative z-10 p-4",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9",children:[(0,b.jsx)("h3",{className:"jsx-3531dfd0cebe6dd9 font-bold text-lg text-slate-800 dark:text-white line-clamp-1",children:a.name}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mt-1",children:a.identification||""})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 text-2xl font-bold text-purple-600",children:ag(a.price)}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 text-sm text-slate-500 dark:text-slate-400",children:["Stock: ",a.stock_quantity]})]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 text-xs text-slate-400 flex items-center",children:[(0,b.jsx)(z.Calendar,{className:"h-3 w-3 mr-1"}),"Created ",new Date(a.created_at).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 flex space-x-2 pt-2",children:[(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>af(a,!a.is_month_highlight),className:"h-8 text-xs border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",title:a.is_month_highlight?"Remove monthly highlight":"Set as monthly highlight",children:(0,b.jsx)(B.Star,{className:"h-3 w-3"})}),(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",onClick:()=>{R(a),T({name:a.name,price:a.price,images:a.images||[],stock_quantity:a.stock_quantity,active:a.is_active,identification:a.identification||"",weight_carats:a.weight_carats||"",color:a.color||"",clarity:a.clarity||"",shape_and_cut:a.shape_and_cut||"",dimensions:a.dimensions||"",treatments:a.treatments||"",origin:a.origin||""}),V([]),P(!1)},className:"flex-1 h-8 text-xs border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:[(0,b.jsx)(n.Edit3,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>ae(a),className:"h-8 text-xs border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:a.is_active?(0,b.jsx)(q.EyeOff,{className:"h-3 w-3"}):(0,b.jsx)(p.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{size:"sm",variant:"destructive",onClick:()=>ad(a),className:"h-8 text-xs bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 border-0",children:(0,b.jsx)(o.Trash2,{className:"h-3 w-3"})})]})]})})]},a.id)})}),0===E.length&&(0,b.jsx)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg rounded-xl",children:(0,b.jsxs)(e.CardContent,{className:"py-16 text-center",children:[(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-full flex items-center justify-center",children:(0,b.jsx)(k.Gem,{className:"h-8 w-8 text-slate-500 dark:text-slate-400"})}),(0,b.jsx)("h3",{className:"jsx-3531dfd0cebe6dd9 text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:0===a.length?"No Products Found":"No Products Match Your Filters"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-slate-500 dark:text-slate-400 mb-4",children:0===a.length?"Start building your gem collection by adding your first product.":"Try adjusting your search criteria or filters to find more products."}),0===a.length&&(0,b.jsxs)(f.Button,{onClick:()=>{P(!0),R(null),aa()},className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-lg",children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Add First Product"]})]})}),M&&(0,b.jsx)("div",{className:"jsx-3531dfd0cebe6dd9 fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"jsx-3531dfd0cebe6dd9 bg-white dark:bg-slate-800 rounded-2xl p-8 shadow-2xl text-center",children:[(0,b.jsx)(u.RefreshCw,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"jsx-3531dfd0cebe6dd9 text-slate-700 dark:text-slate-300",children:"Processing..."})]})}),(0,b.jsx)(c.default,{id:"3531dfd0cebe6dd9",children:".admin-products-page.jsx-3531dfd0cebe6dd9{font-size:1.6rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .jsx-3531dfd0cebe6dd9{font-size:inherit}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-xs.jsx-3531dfd0cebe6dd9{font-size:1.2rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-sm.jsx-3531dfd0cebe6dd9{font-size:1.4rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-base.jsx-3531dfd0cebe6dd9{font-size:1.6rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-lg.jsx-3531dfd0cebe6dd9{font-size:1.8rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-xl.jsx-3531dfd0cebe6dd9{font-size:2rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-2xl.jsx-3531dfd0cebe6dd9{font-size:2.4rem}.admin-products-page.jsx-3531dfd0cebe6dd9 .text-3xl.jsx-3531dfd0cebe6dd9{font-size:3rem}.line-clamp-1.jsx-3531dfd0cebe6dd9{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-2.jsx-3531dfd0cebe6dd9{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"})]})}}];

//# sourceMappingURL=app_admin_gems_page_tsx_d3ca2dad._.js.map