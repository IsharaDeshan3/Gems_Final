{"version":3,"sources":["turbopack:///[project]/app/admin/jewellery/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Diamond,\r\n  Gem,\r\n  Plus,\r\n  Search,\r\n  Edit3,\r\n  Trash2,\r\n  Eye,\r\n  EyeOff,\r\n  Image as ImageIcon,\r\n  RefreshCw,\r\n  Star,\r\n} from \"lucide-react\";\r\n\r\nexport interface AdminJewellery {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n\r\n  // Jewellery-specific fields\r\n  metal_type_purity?: string;\r\n  gross_weight_grams?: number;\r\n  report_number?: string;\r\n  report_date?: string;\r\n  authorized_seal_signature?: string;\r\n\r\n  // Gemstone fields (from gem form)\r\n  gemstone_name?: string;\r\n  gemstone_type?: string;\r\n  carat_weight?: number;\r\n  cut_and_shape?: string;\r\n  color_and_clarity?: string;\r\n  gem_identification?: string;\r\n  gem_weight_carats?: string;\r\n  gem_color?: string;\r\n  gem_clarity?: string;\r\n  gem_dimensions?: string;\r\n  gem_treatments?: string;\r\n  gem_origin?: string;\r\n\r\n  images?: string[];\r\n  image_url?: string;\r\n  stock_quantity: number;\r\n  is_active: boolean;\r\n  is_month_highlight?: boolean;\r\n  created_at: string;\r\n  updated_at?: string;\r\n}\r\n\r\nfunction normalizeItem(item: any): AdminJewellery {\r\n  const images: string[] = Array.isArray(item?.images) ? item.images : [];\r\n  return {\r\n    ...item,\r\n    images,\r\n    image_url: item?.image_url ?? images[0] ?? \"\",\r\n    stock_quantity:\r\n      typeof item?.stock_quantity === \"number\" ? item.stock_quantity : 0,\r\n    is_active: !!item?.is_active,\r\n    is_month_highlight: !!item?.is_month_highlight,\r\n    price: typeof item?.price === \"number\" ? item.price : Number(item?.price || 0),\r\n    created_at: item?.created_at ?? new Date().toISOString(),\r\n  } as AdminJewellery;\r\n}\r\n\r\nfunction getCsrfTokenFromCookie() {\r\n  return (\r\n    document.cookie\r\n      .split(\"; \")\r\n      .find((row) => row.startsWith(\"csrfToken=\"))\r\n      ?.split(\"=\")[1] || \"\"\r\n  );\r\n}\r\n\r\nexport default function AdminJewelleryPage() {\r\n  const [items, setItems] = useState<AdminJewellery[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState<\"All\" | \"Active\" | \"Inactive\">(\r\n    \"All\"\r\n  );\r\n\r\n  const [editing, setEditing] = useState<AdminJewellery | null>(null);\r\n  const [form, setForm] = useState({\r\n    // Required fields\r\n    name: \"\",\r\n    price: 0,\r\n    stock_quantity: 0,\r\n    is_active: true,\r\n\r\n    // Jewellery-specific fields (optional)\r\n    metal_type_purity: \"\",\r\n    gross_weight_grams: \"\",\r\n    report_number: \"\",\r\n    report_date: \"\",\r\n    authorized_seal_signature: \"\",\r\n\r\n    // Gemstone fields (all from gem form - optional)\r\n    gemstone_name: \"\",\r\n    gemstone_type: \"\",\r\n    carat_weight: \"\",\r\n    cut_and_shape: \"\",\r\n    color_and_clarity: \"\",\r\n    gem_identification: \"\",\r\n    gem_weight_carats: \"\",\r\n    gem_color: \"\",\r\n    gem_clarity: \"\",\r\n    gem_dimensions: \"\",\r\n    gem_treatments: \"\",\r\n    gem_origin: \"\",\r\n\r\n    image_url: \"\",\r\n  });\r\n\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  async function fetchItems() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(\"/api/admin/jewellery\", {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        cache: \"no-store\",\r\n      });\r\n\r\n      if (!res.ok) {\r\n        throw new Error(\"Failed to fetch jewellery\");\r\n      }\r\n\r\n      const data = await res.json();\r\n      const list = Array.isArray(data?.jewellery) ? data.jewellery : [];\r\n      setItems(list.map(normalizeItem));\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setError(e?.message || \"Failed to fetch jewellery\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n  }, []);\r\n\r\n  const filteredItems = useMemo(() => {\r\n    let result = [...items];\r\n\r\n    if (searchQuery.trim()) {\r\n      const q = searchQuery.trim().toLowerCase();\r\n      result = result.filter((p) => {\r\n        const hay = [\r\n          p.name,\r\n          p.metal_type_purity,\r\n          p.report_number,\r\n          p.gemstone_type,\r\n          p.gemstone_name,\r\n        ]\r\n          .filter(Boolean)\r\n          .join(\" \")\r\n          .toLowerCase();\r\n        return hay.includes(q);\r\n      });\r\n    }\r\n\r\n    if (statusFilter === \"Active\") {\r\n      result = result.filter((p) => p.is_active);\r\n    } else if (statusFilter === \"Inactive\") {\r\n      result = result.filter((p) => !p.is_active);\r\n    }\r\n\r\n    return result;\r\n  }, [items, searchQuery, statusFilter]);\r\n\r\n  function resetForm() {\r\n    setEditing(null);\r\n    setSelectedFile(null);\r\n    setForm({\r\n      name: \"\",\r\n      price: 0,\r\n      stock_quantity: 0,\r\n      is_active: true,\r\n\r\n      metal_type_purity: \"\",\r\n      gross_weight_grams: \"\",\r\n      report_number: \"\",\r\n      report_date: \"\",\r\n      authorized_seal_signature: \"\",\r\n\r\n      gemstone_name: \"\",\r\n      gemstone_type: \"\",\r\n      carat_weight: \"\",\r\n      cut_and_shape: \"\",\r\n      color_and_clarity: \"\",\r\n      gem_identification: \"\",\r\n      gem_weight_carats: \"\",\r\n      gem_color: \"\",\r\n      gem_clarity: \"\",\r\n      gem_dimensions: \"\",\r\n      gem_treatments: \"\",\r\n      gem_origin: \"\",\r\n\r\n      image_url: \"\",\r\n    });\r\n    setError(null);\r\n  }\r\n\r\n  function startEdit(item: AdminJewellery) {\r\n    setEditing(item);\r\n    setSelectedFile(null);\r\n    setForm({\r\n      name: item.name,\r\n      price: item.price,\r\n      stock_quantity: item.stock_quantity,\r\n      is_active: item.is_active,\r\n\r\n      metal_type_purity: item.metal_type_purity || \"\",\r\n      gross_weight_grams:\r\n        item.gross_weight_grams !== undefined && item.gross_weight_grams !== null\r\n          ? String(item.gross_weight_grams)\r\n          : \"\",\r\n      report_number: item.report_number || \"\",\r\n      report_date: item.report_date || \"\",\r\n      authorized_seal_signature: item.authorized_seal_signature || \"\",\r\n\r\n      gemstone_name: item.gemstone_name || \"\",\r\n      gemstone_type: item.gemstone_type || \"\",\r\n      carat_weight:\r\n        item.carat_weight !== undefined && item.carat_weight !== null\r\n          ? String(item.carat_weight)\r\n          : \"\",\r\n      cut_and_shape: item.cut_and_shape || \"\",\r\n      color_and_clarity: item.color_and_clarity || \"\",\r\n      gem_identification: item.gem_identification || \"\",\r\n      gem_weight_carats: item.gem_weight_carats || \"\",\r\n      gem_color: item.gem_color || \"\",\r\n      gem_clarity: item.gem_clarity || \"\",\r\n      gem_dimensions: item.gem_dimensions || \"\",\r\n      gem_treatments: item.gem_treatments || \"\",\r\n      gem_origin: item.gem_origin || \"\",\r\n\r\n      image_url: item.image_url || item.images?.[0] || \"\",\r\n    });\r\n    setError(null);\r\n  }\r\n\r\n  async function uploadImage(file: File): Promise<string> {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"folder\", \"jewellery\");\r\n\r\n    const csrf = getCsrfTokenFromCookie();\r\n\r\n    const res = await fetch(\"/api/admin/upload\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"x-csrf-token\": csrf,\r\n      },\r\n      body: formData,\r\n      credentials: \"include\",\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const data = await res.json().catch(() => ({}));\r\n      throw new Error(data?.error || \"Failed to upload image\");\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data.url;\r\n  }\r\n\r\n  async function saveItem() {\r\n    // Validate required fields\r\n    if (!form.name.trim()) {\r\n      setError(\"Product name is required\");\r\n      return;\r\n    }\r\n    if (form.price <= 0) {\r\n      setError(\"Price must be greater than 0\");\r\n      return;\r\n    }\r\n    if (form.stock_quantity < 0) {\r\n      setError(\"Stock quantity cannot be negative\");\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    setError(null);\r\n\r\n    try {\r\n      let imageUrl = form.image_url;\r\n      if (selectedFile) {\r\n        setUploading(true);\r\n        try {\r\n          imageUrl = await uploadImage(selectedFile);\r\n        } finally {\r\n          setUploading(false);\r\n        }\r\n      }\r\n\r\n      const payload: any = {\r\n        name: form.name,\r\n        price: Number(form.price),\r\n        stock_quantity: Number(form.stock_quantity) || 0,\r\n        is_active: !!form.is_active,\r\n\r\n        // Jewellery fields\r\n        metal_type_purity: form.metal_type_purity || undefined,\r\n        gross_weight_grams:\r\n          form.gross_weight_grams !== \"\" ? Number(form.gross_weight_grams) : undefined,\r\n        report_number: form.report_number || undefined,\r\n        report_date: form.report_date || undefined,\r\n        authorized_seal_signature: form.authorized_seal_signature || undefined,\r\n\r\n        // Gemstone fields\r\n        gemstone_name: form.gemstone_name || undefined,\r\n        gemstone_type: form.gemstone_type || undefined,\r\n        carat_weight: form.carat_weight !== \"\" ? Number(form.carat_weight) : undefined,\r\n        cut_and_shape: form.cut_and_shape || undefined,\r\n        color_and_clarity: form.color_and_clarity || undefined,\r\n        gem_identification: form.gem_identification || undefined,\r\n        gem_weight_carats: form.gem_weight_carats || undefined,\r\n        gem_color: form.gem_color || undefined,\r\n        gem_clarity: form.gem_clarity || undefined,\r\n        gem_dimensions: form.gem_dimensions || undefined,\r\n        gem_treatments: form.gem_treatments || undefined,\r\n        gem_origin: form.gem_origin || undefined,\r\n\r\n        images: imageUrl ? [imageUrl] : [],\r\n      };\r\n\r\n      const csrf = getCsrfTokenFromCookie();\r\n\r\n      if (editing) {\r\n        const res = await fetch(\"/api/admin/jewellery\", {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"x-csrf-token\": csrf,\r\n          },\r\n          credentials: \"include\",\r\n          body: JSON.stringify({ id: editing.id, ...payload }),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const data = await res.json().catch(() => ({}));\r\n          throw new Error(data?.error || \"Failed to update jewellery\");\r\n        }\r\n\r\n        const updated = normalizeItem(await res.json());\r\n        setItems((prev) => prev.map((p) => (p.id === updated.id ? updated : p)));\r\n        resetForm();\r\n      } else {\r\n        const res = await fetch(\"/api/admin/jewellery\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"x-csrf-token\": csrf,\r\n          },\r\n          credentials: \"include\",\r\n          body: JSON.stringify(payload),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const data = await res.json().catch(() => ({}));\r\n          throw new Error(data?.error || \"Failed to create jewellery\");\r\n        }\r\n\r\n        const created = normalizeItem(await res.json());\r\n        setItems((prev) => [created, ...prev]);\r\n        resetForm();\r\n      }\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setError(e?.message || \"Failed to save jewellery\");\r\n    } finally {\r\n      setSaving(false);\r\n      setUploading(false);\r\n    }\r\n  }\r\n\r\n  async function deleteItem(item: AdminJewellery) {\r\n    if (!confirm(`Are you sure you want to delete \"${item.name}\"?`)) return;\r\n\r\n    setSaving(true);\r\n    setError(null);\r\n    try {\r\n      const csrf = getCsrfTokenFromCookie();\r\n      const res = await fetch(`/api/admin/jewellery?id=${item.id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"x-csrf-token\": csrf,\r\n        },\r\n        credentials: \"include\",\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const data = await res.json().catch(() => ({}));\r\n        throw new Error(data?.error || \"Failed to delete jewellery\");\r\n      }\r\n\r\n      setItems((prev) => prev.filter((p) => p.id !== item.id));\r\n      if (editing?.id === item.id) resetForm();\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setError(e?.message || \"Failed to delete jewellery\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  async function toggleActive(item: AdminJewellery) {\r\n    setSaving(true);\r\n    setError(null);\r\n    try {\r\n      const csrf = getCsrfTokenFromCookie();\r\n      const res = await fetch(\"/api/admin/jewellery\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-csrf-token\": csrf,\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({ id: item.id, is_active: !item.is_active }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const data = await res.json().catch(() => ({}));\r\n        throw new Error(data?.error || \"Failed to update status\");\r\n      }\r\n\r\n      const updated = normalizeItem(await res.json());\r\n      setItems((prev) => prev.map((p) => (p.id === updated.id ? updated : p)));\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setError(e?.message || \"Failed to update status\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  async function setMonthHighlight(item: AdminJewellery, enabled: boolean) {\r\n    setSaving(true);\r\n    setError(null);\r\n    try {\r\n      const csrf = getCsrfTokenFromCookie();\r\n      const res = await fetch(\"/api/admin/jewellery\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-csrf-token\": csrf,\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({ id: item.id, is_month_highlight: enabled }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const data = await res.json().catch(() => ({}));\r\n        throw new Error(data?.error || \"Failed to update highlight\");\r\n      }\r\n\r\n      // API returns the updated item; update list and enforce single highlight locally.\r\n      const updated = normalizeItem(await res.json());\r\n      setItems((prev) =>\r\n        prev.map((p) => {\r\n          if (enabled) {\r\n            return { ...p, is_month_highlight: p.id === updated.id };\r\n          }\r\n          return p.id === updated.id ? { ...p, is_month_highlight: false } : p;\r\n        })\r\n      );\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setError(e?.message || \"Failed to update highlight\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Diamond className=\"h-7 w-7\" />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold\">Jewellery</h1>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Manage your certified jewellery products with gemstone details\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\" onClick={fetchItems} disabled={loading}>\r\n            <RefreshCw className={`h-4 w-4 mr-2 ${loading ? \"animate-spin\" : \"\"}`} />\r\n            Refresh\r\n          </Button>\r\n          <Button onClick={resetForm} variant=\"secondary\">\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            New\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {error ? (\r\n        <Card className=\"border-red-500/30\">\r\n          <CardContent className=\"py-4 text-red-600\">{error}</CardContent>\r\n        </Card>\r\n      ) : null}\r\n\r\n      {/* Form with Two Sections */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>{editing ? \"Edit Jewellery\" : \"Add New Jewellery\"}</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* TOP SECTION: Jewellery Information */}\r\n          <div className=\"border rounded-lg p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-slate-800 dark:to-slate-700\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <Diamond className=\"h-5 w-5 text-purple-600\" />\r\n              <h3 className=\"text-lg font-semibold text-purple-800 dark:text-purple-300\">Jewellery Information</h3>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Name *</Label>\r\n                <Input \r\n                  value={form.name} \r\n                  onChange={(e) => setForm((p) => ({ ...p, name: e.target.value }))} \r\n                  placeholder=\"e.g., Diamond Ring\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Price (USD) *</Label>\r\n                <Input \r\n                  type=\"number\" \r\n                  value={form.price} \r\n                  onChange={(e) => setForm((p) => ({ ...p, price: Number(e.target.value) }))} \r\n                  placeholder=\"2500.00\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Stock Quantity *</Label>\r\n                <Input \r\n                  type=\"number\" \r\n                  value={form.stock_quantity} \r\n                  onChange={(e) => setForm((p) => ({ ...p, stock_quantity: Number(e.target.value) }))} \r\n                  placeholder=\"5\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Metal Type & Purity</Label>\r\n                <Input \r\n                  value={form.metal_type_purity} \r\n                  onChange={(e) => setForm((p) => ({ ...p, metal_type_purity: e.target.value }))} \r\n                  placeholder=\"18K White Gold\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Gross Weight (grams)</Label>\r\n                <Input \r\n                  type=\"number\" \r\n                  value={form.gross_weight_grams} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gross_weight_grams: e.target.value }))} \r\n                  placeholder=\"5.5\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Report Number</Label>\r\n                <Input \r\n                  value={form.report_number} \r\n                  onChange={(e) => setForm((p) => ({ ...p, report_number: e.target.value }))} \r\n                  placeholder=\"GIA-123456\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Report Date</Label>\r\n                <Input \r\n                  type=\"date\" \r\n                  value={form.report_date} \r\n                  onChange={(e) => setForm((p) => ({ ...p, report_date: e.target.value }))} \r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Authorized Seal & Signature</Label>\r\n                <Input \r\n                  value={form.authorized_seal_signature} \r\n                  onChange={(e) => setForm((p) => ({ ...p, authorized_seal_signature: e.target.value }))} \r\n                  placeholder=\"Authorized by...\"\r\n                  className=\"border-purple-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-purple-700 dark:text-purple-300\">Status</Label>\r\n                <Select\r\n                  value={form.is_active ? \"active\" : \"inactive\"}\r\n                  onValueChange={(v) => setForm((p) => ({ ...p, is_active: v === \"active\" }))}\r\n                >\r\n                  <SelectTrigger className=\"border-purple-200\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"active\">Active</SelectItem>\r\n                    <SelectItem value=\"inactive\">Inactive</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* BOTTOM SECTION: Gemstone Information */}\r\n          <div className=\"border rounded-lg p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-slate-800 dark:to-slate-700\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <Gem className=\"h-5 w-5 text-blue-600\" />\r\n              <h3 className=\"text-lg font-semibold text-blue-800 dark:text-blue-300\">Gemstone on Jewellery</h3>\r\n              <span className=\"text-sm text-blue-600 dark:text-blue-400\">(Optional - Details about the gem mounted on this jewellery)</span>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Gemstone Name</Label>\r\n                <Input \r\n                  value={form.gemstone_name} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gemstone_name: e.target.value }))} \r\n                  placeholder=\"Ceylon Blue Sapphire\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Identification</Label>\r\n                <Input \r\n                  value={form.gem_identification} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_identification: e.target.value }))} \r\n                  placeholder=\"Natural Blue Sapphire\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Gemstone Type (Natural/Synthetic)</Label>\r\n                <Input \r\n                  value={form.gemstone_type} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gemstone_type: e.target.value }))} \r\n                  placeholder=\"Natural\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Weight (Carats)</Label>\r\n                <Input \r\n                  value={form.gem_weight_carats} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_weight_carats: e.target.value }))} \r\n                  placeholder=\"2.50\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Carat Weight (cts)</Label>\r\n                <Input \r\n                  type=\"number\" \r\n                  value={form.carat_weight} \r\n                  onChange={(e) => setForm((p) => ({ ...p, carat_weight: e.target.value }))} \r\n                  placeholder=\"2.50\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Shape / Cut</Label>\r\n                <Input \r\n                  value={form.cut_and_shape} \r\n                  onChange={(e) => setForm((p) => ({ ...p, cut_and_shape: e.target.value }))} \r\n                  placeholder=\"Oval Brilliant\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Color</Label>\r\n                <Input \r\n                  value={form.gem_color} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_color: e.target.value }))} \r\n                  placeholder=\"Royal Blue\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Clarity</Label>\r\n                <Input \r\n                  value={form.gem_clarity} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_clarity: e.target.value }))} \r\n                  placeholder=\"VS\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Color & Clarity Combined</Label>\r\n                <Input \r\n                  value={form.color_and_clarity} \r\n                  onChange={(e) => setForm((p) => ({ ...p, color_and_clarity: e.target.value }))} \r\n                  placeholder=\"Royal Blue / VS\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Dimensions</Label>\r\n                <Input \r\n                  value={form.gem_dimensions} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_dimensions: e.target.value }))} \r\n                  placeholder=\"8.0 x 6.0 x 4.2 mm\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Treatments</Label>\r\n                <Input \r\n                  value={form.gem_treatments} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_treatments: e.target.value }))} \r\n                  placeholder=\"Heat\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 dark:text-blue-300\">Origin</Label>\r\n                <Input \r\n                  value={form.gem_origin} \r\n                  onChange={(e) => setForm((p) => ({ ...p, gem_origin: e.target.value }))} \r\n                  placeholder=\"Sri Lanka\"\r\n                  className=\"border-blue-200\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Image Upload Section */}\r\n          <div className=\"border rounded-lg p-4\">\r\n            <Label className=\"flex items-center gap-2 mb-3\">\r\n              <ImageIcon className=\"h-4 w-4\" /> Product Image\r\n            </Label>\r\n            <div className=\"flex flex-col md:flex-row gap-3\">\r\n              <Input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => setSelectedFile(e.target.files?.[0] || null)}\r\n              />\r\n              <Input\r\n                placeholder=\"Or paste image URL\"\r\n                value={form.image_url}\r\n                onChange={(e) => setForm((p) => ({ ...p, image_url: e.target.value }))}\r\n              />\r\n            </div>\r\n            {(selectedFile || form.image_url) && (\r\n              <div className=\"mt-3 flex items-center gap-3\">\r\n                {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                <img\r\n                  src={selectedFile ? URL.createObjectURL(selectedFile) : form.image_url}\r\n                  alt=\"Preview\"\r\n                  className=\"w-16 h-16 object-cover rounded-lg border\"\r\n                />\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                  {selectedFile ? selectedFile.name : \"URL Image\"}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button onClick={saveItem} disabled={saving || uploading || !form.name}>\r\n              {saving ? \"Saving...\" : editing ? \"Update Jewellery\" : \"Create Jewellery\"}\r\n            </Button>\r\n            <Button variant=\"outline\" onClick={resetForm}>\r\n              Cancel\r\n            </Button>\r\n            {uploading && (\r\n              <span className=\"text-sm text-muted-foreground\">Uploading image...</span>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Items List */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n            <CardTitle>Jewellery Items</CardTitle>\r\n            <div className=\"flex flex-col sm:flex-row gap-2\">\r\n              <div className=\"relative\">\r\n                <Search className=\"h-4 w-4 absolute left-3 top-3 text-muted-foreground\" />\r\n                <Input\r\n                  className=\"pl-9 w-72\"\r\n                  placeholder=\"Search...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                />\r\n              </div>\r\n              <Select\r\n                value={statusFilter}\r\n                onValueChange={(v) => setStatusFilter(v as any)}\r\n              >\r\n                <SelectTrigger className=\"w-44\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"All\">All</SelectItem>\r\n                  <SelectItem value=\"Active\">Active</SelectItem>\r\n                  <SelectItem value=\"Inactive\">Inactive</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {loading ? (\r\n            <div className=\"py-8 text-center text-muted-foreground\">Loading...</div>\r\n          ) : filteredItems.length === 0 ? (\r\n            <div className=\"py-8 text-center text-muted-foreground\">No items found.</div>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {filteredItems.map((item) => (\r\n                <div\r\n                  key={item.id}\r\n                  className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3 p-4 border rounded-lg\"\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-12 h-12 rounded-md bg-muted overflow-hidden flex items-center justify-center\">\r\n                      {item.image_url ? (\r\n                        // eslint-disable-next-line @next/next/no-img-element\r\n                        <img src={item.image_url} alt={item.name} className=\"w-full h-full object-cover\" />\r\n                      ) : (\r\n                        <ImageIcon className=\"h-5 w-5 text-muted-foreground\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-semibold\">{item.name}</div>\r\n                      <div className=\"text-sm text-muted-foreground\">\r\n                        ${item.price} â€¢ Stock: {item.stock_quantity}\r\n                      </div>\r\n                      <div className=\"mt-1 flex flex-wrap items-center gap-2\">\r\n                        {item.is_month_highlight ? (\r\n                          <Badge className=\"bg-gradient-to-r from-amber-400 to-orange-500 text-black\">\r\n                            <Star className=\"h-3 w-3 mr-1\" /> Highlight\r\n                          </Badge>\r\n                        ) : null}\r\n                        <Badge variant={item.is_active ? \"default\" : \"secondary\"}>\r\n                          {item.is_active ? \"Active\" : \"Inactive\"}\r\n                        </Badge>\r\n                        {item.metal_type_purity ? (\r\n                          <Badge variant=\"outline\">{item.metal_type_purity}</Badge>\r\n                        ) : null}\r\n                        {item.gemstone_name ? (\r\n                          <Badge variant=\"outline\" className=\"bg-blue-50 dark:bg-blue-900\">\r\n                            ðŸ’Ž {item.gemstone_name}\r\n                          </Badge>\r\n                        ) : null}\r\n                        {item.report_number ? (\r\n                          <Badge variant=\"outline\">Report: {item.report_number}</Badge>\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => setMonthHighlight(item, !item.is_month_highlight)}\r\n                      disabled={saving}\r\n                      title={item.is_month_highlight ? \"Remove monthly highlight\" : \"Set as monthly highlight\"}\r\n                    >\r\n                      <Star className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => startEdit(item)}>\r\n                      <Edit3 className=\"h-4 w-4 mr-2\" /> Edit\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => toggleActive(item)}\r\n                      disabled={saving}\r\n                    >\r\n                      {item.is_active ? (\r\n                        <>\r\n                          <EyeOff className=\"h-4 w-4 mr-2\" /> Hide\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Eye className=\"h-4 w-4 mr-2\" /> Show\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"destructive\"\r\n                      onClick={() => deleteItem(item)}\r\n                      disabled={saving}\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}