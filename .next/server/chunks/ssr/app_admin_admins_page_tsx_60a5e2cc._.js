module.exports=[76691,a=>{"use strict";a.s(["default",()=>H],76691);var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(87682),j=a.i(54161),k=a.i(187),l=a.i(97895);let m=(0,k.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function n({className:a,variant:c,...d}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,l.cn)(m({variant:c}),a),...d})}function o({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,l.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}var p=a.i(3314),q=a.i(4416),r=a.i(86520),s=a.i(15618),t=a.i(62722),u=a.i(67453),v=a.i(92e3),w=a.i(77156),x=a.i(41379),y=a.i(81560),z=a.i(17371),A=a.i(92258),B=a.i(46842),C=a.i(81402),D=a.i(21161),E=a.i(69520),F=a.i(43108),G=a.i(41675);function H(){let[a,k]=(0,d.useState)([]),[l,m]=(0,d.useState)(!1),[H,I]=(0,d.useState)(!1),[J,K]=(0,d.useState)({email:"",firstName:"",lastName:"",role:"Admin",password:""}),[L,M]=(0,d.useState)(null),[N,O]=(0,d.useState)(!1);async function P(){m(!0);try{let a=await fetch("/api/admin/admins",{credentials:"include"});if(a.ok){let b=await a.json();k(b.admins||[])}else k([])}catch(a){k([])}finally{m(!1)}}async function Q(){M(null),m(!0);try{await new Promise(a=>setTimeout(a,1e3));let a={_id:Date.now().toString(),email:J.email,firstName:J.firstName,lastName:J.lastName,role:J.role,isActive:!0,createdAt:new Date().toISOString()};k(b=>[a,...b]),I(!1),K({email:"",firstName:"",lastName:"",role:"Admin",password:""})}catch(a){M("Failed to create admin account")}finally{m(!1)}}async function R(a){m(!0);try{await new Promise(a=>setTimeout(a,500)),k(b=>b.map(b=>b._id===a._id?{...b,isActive:!b.isActive}:b))}finally{m(!1)}}async function S(a,b){m(!0);try{await new Promise(a=>setTimeout(a,500)),k(c=>c.map(c=>c._id===a._id?{...c,role:b}:c))}finally{m(!1)}}async function T(a){if(confirm(`Remove ${a.firstName} ${a.lastName}?`)){m(!0);try{await new Promise(a=>setTimeout(a,500)),k(b=>b.filter(b=>b._id!==a._id))}finally{m(!1)}}}async function U(){prompt("Re-enter your password for confirmation")&&alert("Re-authentication successful")}return((0,d.useEffect)(()=>{O(!0),P()},[]),N)?(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e admin-admins-page space-y-8",children:[(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e fixed inset-0 overflow-hidden pointer-events-none opacity-30",children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e absolute top-20 right-10 w-32 h-32 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 rounded-full animate-pulse"}),(0,b.jsx)("div",{style:{animationDuration:"3s"},className:"jsx-aa2e3064da875c3e absolute bottom-20 left-10 w-24 h-24 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 rounded-full animate-bounce"})]}),(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e relative z-10 backdrop-blur-md bg-white/80 dark:bg-slate-800/80 rounded-2xl p-6 shadow-2xl border border-white/20",children:(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0",children:[(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e p-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl shadow-lg",children:(0,b.jsx)(p.Shield,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e",children:[(0,b.jsx)("h1",{className:"jsx-aa2e3064da875c3e text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Admin Management"}),(0,b.jsx)("p",{className:"jsx-aa2e3064da875c3e text-slate-600 dark:text-slate-400 mt-1",children:"Manage Admin and Moderator accounts"}),(0,b.jsxs)("p",{className:"jsx-aa2e3064da875c3e text-xs text-slate-500 dark:text-slate-400 mt-1 flex items-center",children:[(0,b.jsx)(r.Crown,{className:"h-3 w-3 mr-1"}),"SuperAdmin creation is restricted to scripts only"]})]})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex items-center space-x-3",children:[(0,b.jsxs)(j.Badge,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white border-0",children:[a.length," Admins"]}),(0,b.jsxs)(f.Button,{variant:"outline",onClick:U,className:"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:[(0,b.jsx)(F.Lock,{className:"h-4 w-4 mr-2"}),"Re-authenticate"]}),(0,b.jsxs)(f.Button,{onClick:()=>I(!H),className:`${H?"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600":"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600"} text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[H?(0,b.jsx)(t.XCircle,{className:"h-5 w-5 mr-2"}):(0,b.jsx)(s.Plus,{className:"h-5 w-5 mr-2"}),H?"Cancel":"Add Admin"]})]})]})}),L&&(0,b.jsxs)(n,{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:[(0,b.jsx)(v.AlertCircle,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),(0,b.jsx)(o,{className:"text-red-600 dark:text-red-400",children:L})]}),H&&(0,b.jsxs)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-2xl rounded-2xl overflow-hidden",style:{animation:"slideDown 0.5s ease-out"},children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e absolute inset-0 bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),(0,b.jsx)(e.CardHeader,{className:"relative z-10 bg-gradient-to-r from-slate-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 border-b border-slate-200/50 dark:border-slate-600/50",children:(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg shadow-lg",children:(0,b.jsx)(z.UserPlus,{className:"h-5 w-5 text-white"})}),(0,b.jsx)(e.CardTitle,{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Admin or Moderator Account"})]})}),(0,b.jsx)(e.CardContent,{className:"relative z-10 p-6",children:(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(A.Mail,{className:"h-4 w-4 mr-2"}),"Email Address"]}),(0,b.jsx)(g.Input,{value:J.email,onChange:a=>K({...J,email:a.target.value}),type:"email",className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"admin@royalgems.com",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(B.User,{className:"h-4 w-4 mr-2"}),"First Name"]}),(0,b.jsx)(g.Input,{value:J.firstName,onChange:a=>K({...J,firstName:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"John",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(B.User,{className:"h-4 w-4 mr-2"}),"Last Name"]}),(0,b.jsx)(g.Input,{value:J.lastName,onChange:a=>K({...J,lastName:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Doe",required:!0})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-3",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(D.Settings,{className:"h-4 w-4 mr-2"}),"Role"]}),(0,b.jsxs)(i.Select,{value:J.role,onValueChange:a=>K({...J,role:a}),children:[(0,b.jsx)(i.SelectTrigger,{className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"Admin",children:"Admin"}),(0,b.jsx)(i.SelectItem,{value:"Moderator",children:"Moderator"})]})]})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-3 md:col-span-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center text-sm font-semibold text-slate-700 dark:text-slate-300",children:[(0,b.jsx)(C.Key,{className:"h-4 w-4 mr-2"}),"Temporary Password"]}),(0,b.jsx)(g.Input,{type:"password",value:J.password,onChange:a=>K({...J,password:a.target.value}),className:"h-12 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-xl",placeholder:"Enter secure password",required:!0}),(0,b.jsxs)("p",{className:"jsx-aa2e3064da875c3e text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[(0,b.jsx)(v.AlertCircle,{className:"h-3 w-3 mr-1"}),"Minimum 12 characters with uppercase, lowercase, number, and special character"]})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e md:col-span-2 flex justify-end space-x-3",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>I(!1),className:"px-6",children:"Cancel"}),(0,b.jsxs)(f.Button,{onClick:Q,disabled:l,className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white border-0 shadow-lg px-6",children:[l?(0,b.jsx)(E.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(u.CheckCircle2,{className:"h-4 w-4 mr-2"}),"Create Account"]})]})]})})]}),(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 scr-y",children:a.map((a,c)=>(0,b.jsxs)(e.Card,{className:"group backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg hover:shadow-2xl rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:-translate-y-2",style:{animationDelay:`${.1*c}s`,animation:N?"fadeInUp 0.6s ease-out forwards":"none"},children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e absolute inset-0 bg-gradient-to-br from-slate-50/50 to-indigo-50/50 dark:from-slate-800/50 dark:to-slate-700/50"}),(0,b.jsx)(e.CardHeader,{className:"relative z-10 pb-3",children:(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex items-center space-x-3",children:[(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg",children:[a.firstName.charAt(0),a.lastName.charAt(0)]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e",children:[(0,b.jsxs)("h3",{className:"jsx-aa2e3064da875c3e font-semibold text-slate-800 dark:text-white",children:[a.firstName," ",a.lastName]}),(0,b.jsxs)("p",{className:"jsx-aa2e3064da875c3e text-sm text-slate-500 dark:text-slate-400 flex items-center",children:[(0,b.jsx)(A.Mail,{className:"h-3 w-3 mr-1"}),a.email]})]})]}),(0,b.jsx)(j.Badge,{className:`bg-gradient-to-r ${a.isActive?"from-emerald-500 to-teal-500":"from-red-500 to-pink-500"} text-white border-0 text-xs`,children:a.isActive?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.CheckCircle2,{className:"h-3 w-3 mr-1"}),"Active"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.XCircle,{className:"h-3 w-3 mr-1"}),"Suspended"]})})]})}),(0,b.jsx)(e.CardContent,{className:"relative z-10 pt-0",children:(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex items-center justify-between",children:[(0,b.jsxs)(j.Badge,{className:`bg-gradient-to-r ${function(a){switch(a){case"Admin":return"from-blue-500 to-indigo-500";case"SuperAdmin":return"from-amber-500 to-orange-500";default:return"from-emerald-500 to-teal-500"}}(a.role)} text-white border-0 flex items-center`,children:[function(a){switch(a){case"Admin":return(0,b.jsx)(q.ShieldCheck,{className:"h-4 w-4"});case"SuperAdmin":return(0,b.jsx)(r.Crown,{className:"h-4 w-4"});default:return(0,b.jsx)(p.Shield,{className:"h-4 w-4"})}}(a.role),(0,b.jsx)("span",{className:"jsx-aa2e3064da875c3e ml-1",children:a.role})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[(0,b.jsx)(G.Calendar,{className:"h-3 w-3 mr-1"}),new Date(a.createdAt).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e space-y-2",children:[(0,b.jsx)(h.Label,{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Change Role"}),(0,b.jsxs)(i.Select,{defaultValue:a.role,onValueChange:b=>S(a,b),children:[(0,b.jsx)(i.SelectTrigger,{className:"h-9 bg-white/60 dark:bg-slate-700/60 border-slate-200 dark:border-slate-600 rounded-lg text-xs",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"Admin",children:"Admin"}),(0,b.jsx)(i.SelectItem,{value:"Moderator",children:"Moderator"})]})]})]}),(0,b.jsxs)("div",{className:"jsx-aa2e3064da875c3e flex space-x-2 pt-2",children:[(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>R(a),className:"flex-1 h-8 text-xs border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",disabled:l,children:a.isActive?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.EyeOff,{className:"h-3 w-3 mr-1"}),"Suspend"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Eye,{className:"h-3 w-3 mr-1"}),"Activate"]})}),(0,b.jsx)(f.Button,{size:"sm",variant:"destructive",onClick:()=>T(a),className:"h-8 text-xs bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 border-0",disabled:l,children:(0,b.jsx)(y.Trash2,{className:"h-3 w-3"})})]})]})})]},a._id))}),l&&0===a.length&&(0,b.jsx)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg rounded-xl",children:(0,b.jsxs)(e.CardContent,{className:"py-16 text-center",children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,b.jsx)(E.RefreshCw,{className:"h-8 w-8 text-white animate-spin"})}),(0,b.jsx)("h3",{className:"jsx-aa2e3064da875c3e text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Loading Admins"}),(0,b.jsx)("p",{className:"jsx-aa2e3064da875c3e text-slate-500 dark:text-slate-400",children:"Please wait while we fetch admin accounts..."})]})}),!l&&0===a.length&&(0,b.jsx)(e.Card,{className:"backdrop-blur-md bg-white/80 dark:bg-slate-800/80 border-0 shadow-lg rounded-xl",children:(0,b.jsxs)(e.CardContent,{className:"py-16 text-center",children:[(0,b.jsx)("div",{className:"jsx-aa2e3064da875c3e w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-full flex items-center justify-center",children:(0,b.jsx)(p.Shield,{className:"h-8 w-8 text-slate-500 dark:text-slate-400"})}),(0,b.jsx)("h3",{className:"jsx-aa2e3064da875c3e text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"No Admin Accounts Found"}),(0,b.jsx)("p",{className:"jsx-aa2e3064da875c3e text-slate-500 dark:text-slate-400 mb-4",children:"Create your first admin or moderator account to get started."}),(0,b.jsxs)(f.Button,{onClick:()=>I(!0),className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white border-0 shadow-lg",children:[(0,b.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Add First Admin"]})]})}),(0,b.jsx)(c.default,{id:"aa2e3064da875c3e",children:".admin-admins-page.jsx-aa2e3064da875c3e{font-size:1.6rem}.admin-admins-page.jsx-aa2e3064da875c3e .jsx-aa2e3064da875c3e{font-size:inherit}.admin-admins-page.jsx-aa2e3064da875c3e .text-xs.jsx-aa2e3064da875c3e{font-size:1.2rem}.admin-admins-page.jsx-aa2e3064da875c3e .text-sm.jsx-aa2e3064da875c3e{font-size:1.4rem}.admin-admins-page.jsx-aa2e3064da875c3e .text-base.jsx-aa2e3064da875c3e{font-size:1.6rem}.admin-admins-page.jsx-aa2e3064da875c3e .text-lg.jsx-aa2e3064da875c3e{font-size:1.8rem}.admin-admins-page.jsx-aa2e3064da875c3e .text-xl.jsx-aa2e3064da875c3e{font-size:2rem}.admin-admins-page.jsx-aa2e3064da875c3e .text-2xl.jsx-aa2e3064da875c3e{font-size:2.4rem}.admin-admins-page.jsx-aa2e3064da875c3e .text-3xl.jsx-aa2e3064da875c3e{font-size:3rem}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"})]}):null}}];

//# sourceMappingURL=app_admin_admins_page_tsx_60a5e2cc._.js.map